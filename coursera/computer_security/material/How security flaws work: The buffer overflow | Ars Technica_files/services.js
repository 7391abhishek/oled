!function e(t,n,r){function o(a,s){if(!n[a]){if(!t[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(i)return i(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[a]={exports:{}};t[a][0].call(l.exports,function(e){var n=t[a][1][e];return o(n?n:e)},l,l.exports,e,t,n,r)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,t){"use strict";function n(e){return i=e._default||{},s(e,function(e,t){"_default"!==t&&(a[t]={},r(e,t),o(e,t))}),Promise.resolve(a)}function r(e,t){var n=e._default||{};a[t].__default=u({mergeables:[i,n],merger:c})}function o(e,t){s(e,function(e,n){if("_default"!==n){var r=a[t].__default;a[t][n]=u({mergeables:[r,e],merger:c})}})}var i,a={},s=e("@condenast/atp-utl/loop"),u=e("@condenast/atp-utl/objects/merge"),c=e("./merge");t.exports=n},{"./merge":2,"@condenast/atp-utl/loop":22,"@condenast/atp-utl/objects/merge":73}],2:[function(require,module,exports){"use strict";function merger(e,t,n){switch(isRunningOnClient="undefined"!=typeof window&&window.window,n){case"uris":if(isObj(e))return urisMerger(e,t);break;case"sets":if(isObj(e))return setsMerger(e,t);break;case"types":if(isObj(e))return slotTypeDefinitionsMerger(e,t);break;case"groups":if(!e)return t;if(isObj(e))return groupMerger(e,t);break;case"targeting":if(!e)return t;if(isObj(e))return targetingMerger(e,t);break;case"sizes":if(!e)return t;if(isObj(e))return sizeMerger(e,t);break;case"id":if(!e)return t;if(isObj(e))return idMerger(e,t);break;case"render":if(slotComplexRenderProcessor(e),slotComplexRenderProcessor(t),!e)return t;if(isObj(e))return renderMerger(e,t);break;case"plugins":if(isObj(e))return pluginMerger(e,t);break;default:if(isArr(e)&&isArr(t))return t}}function urisMerger(e,t){var n=objMerge({mergeables:[e,t]});n.__default=n._default,n._default=null,delete n._default}function setsMerger(e,t){var n=objMerge({mergeables:[e,t]});n.__default=n._default,n._default=null,delete n._default}function groupMerger(e,t){return arrMerge([e,t],!0)}function targetingMerger(e,t){var n=[keys(e),keys(t)],r=arrMerge(n,!0),o={};return loop(r,function(n){if(!e[n])return void(o[n]=t[n]);var r=[e[n],t[n]];o[n]=arrMerge(r,!0)}),o}function idMerger(e,t){var n,r=keys(e),o=keys(t),i=arrMerge([r,o],!0);return r.length&&o.length?(n={},loop(i,function(r){n[r]=t[r]||e[r]})):n=t,n}function sizeMerger(e,t){var n={};return loop(e,function(r,o){n[o]=e[o]||[],t[o]&&(n[o]=arrMerge([n[o],t[o]],!0))}),n}function renderMerger(e,t){var n={};return t.constellation&&(n.constellation=t.constellation),t.slot&&(n.slot=t.slot),t.desktop&&(n.desktop=t.desktop),t.tablet&&(n.tablet=t.tablet),t.mobile&&(n.mobile=t.mobile),n}function slotComplexRenderProcessor(e){return e?e.slot?void slotComplexRenderPreProcessor(e.slot):void loop(e,function(e){slotComplexRenderPreProcessor(e.slot)}):void 0}function slotComplexRenderPreProcessor(e){loop(e,function(e){isObj(e)&&e.every&&e.el&&(e.when&&(e.when=isRunningOnClient&&stringToFunction(e.when)||e.when.toString()),e["in"]&&e["in"].el&&e["in"].when&&(e["in"].when=isRunningOnClient&&stringToFunction(e["in"].when)||e["in"].when.toString()))})}function stringToFunction(string){var desiredFunction,codeAsString="desiredFunction = "+string+";";try{eval(codeAsString)}catch(err){console.warn("stringToFunction error",err)}return desiredFunction}function pluginMerger(e,t){var n={};return loop(t,function(t,r){var o=e[r];n[r]=objMerge({mergeables:[o,t]})}),n}function slotTypeDefinitionsMerger(e,t){var n={};return loop(t,function(r,o){var i=r===!1;n[o]=i?!1:objMerge({mergeables:[e[o],t[o]],merger:merger})}),n}var isObj=require("@condenast/atp-utl/type/isObject"),isArr=require("@condenast/atp-utl/type/isArray"),objMerge=require("@condenast/atp-utl/objects/merge"),arrMerge=require("@condenast/atp-utl/arrays/merge"),loop=require("@condenast/atp-utl/loop"),keys=require("@condenast/atp-utl/objects/keys"),isRunningOnClient;module.exports=merger},{"@condenast/atp-utl/arrays/merge":18,"@condenast/atp-utl/loop":22,"@condenast/atp-utl/objects/keys":72,"@condenast/atp-utl/objects/merge":73,"@condenast/atp-utl/type/isArray":78,"@condenast/atp-utl/type/isObject":91}],3:[function(e,t){"use strict";function n(e,t){return u(e)&&u(t)?t.appendChild(e):!1}function r(e,t){return u(e)&&u(t)?t.insertBefore(e,t.children[0]):!1}function o(e,t){return u(e)&&u(t)?t.parentNode.insertBefore(e,t):!1}function i(e,t){return u(e)&&u(t)?t.parentNode.insertBefore(e,t.nextSibling):!1}function a(e,t){if(!c(e))return!1;var n=document.querySelector(t);return t&&!n?!1:(n||document).querySelector(e)}function s(e,t){if(!c(e))return!1;var n=document.querySelector(t);return t&&!n?!1:(n||document).querySelectorAll(e)}var u=e("@condenast/atp-utl/type/isElement"),c=e("@condenast/atp-utl/type/isString");t.exports={get:a,getAll:s,prepend:r,append:n,top:r,bottom:n,before:o,after:i}},{"@condenast/atp-utl/type/isElement":84,"@condenast/atp-utl/type/isString":93}],4:[function(e,t){"use strict";function n(e,t){return c=t,l=e,y.ads.services(),window.addEventListener("beforeunload",function(){y.ads.bounce({time:m()})}),r()?(y.ads.killed({cause:"ap_noads_param"}),Promise.resolve()):o()}function r(){var e=h();return!!e.ap_noads}function o(){return new Promise(function(e,t){f(c.slot.types).then(i).then(e)["catch"](t)})}function i(e){var t=[];return t.push(_.setup({timeout:c.timers.plugin_requests_max})),t.push(v.setup({sets:c.slot.sets,onCreate:_.api.runHook.bind(null,"onPageCreate"),uris:c.slot.uris})),l.identifiers.overwrite=c.slot.__auid_one,t.push(b.setup({identifiers:l.identifiers,network:c.network,definitions:e,refreshDelay:c.timers.refresh_delay||0,onCreate:_.api.runHook.bind(null,"onSlotCreate"),onRenderStart:_.api.runHook.bind(null,"onSlotRenderStart"),onRenderEnd:_.api.runHook.bind(null,"onSlotRenderEnd"),onImpressionViewable:_.api.runHook.bind(null,"onSlotImpressionViewable"),onVisibilityChange:_.api.runHook.bind(null,"onSlotVisibilityChange"),onRequest:_.api.runHook.bind(null,"onSlotRequest")})),Promise.all(t)}function a(e){return r()?Promise.resolve():(_.api.add(e.name,{hooks:e.controller.hooks,code:e.controller.code,api:e.controller.api}),e.controller.setup(e.config),Promise.resolve())}function s(e){return d({mergeables:[e.global,e.property],merger:p})}function u(e){return g(e)?b.api.getTypeDefinition({type:e}):!1}var c,l,d=e("@condenast/atp-utl/objects/merge"),p=e("./configs/merge"),f=e("./configs/hydrate"),g=e("@condenast/atp-utl/type/isString"),h=e("@condenast/atp-utl/parse"),m=e("@condenast/atp-utl/feature").performance.now,y=e("./reporting"),v=e("./pages/manager"),b=e("./slots/manager"),_=e("./plugins/manager");t.exports={setup:n,merge:s,extend:a,api:{environment:v.api.environment,pages:{get:v.api.get,create:v.api.create,destroy:v.api.destroy},slots:{get:b.api.get,create:b.api.create,destroy:b.api.destroy,getTypeDefinition:u}}}},{"./configs/hydrate":1,"./configs/merge":2,"./pages/manager":7,"./plugins/manager":8,"./reporting":9,"./slots/manager":14,"@condenast/atp-utl/feature":20,"@condenast/atp-utl/objects/merge":73,"@condenast/atp-utl/parse":76,"@condenast/atp-utl/type/isString":93}],5:[function(e,t){"use strict";t.exports={err:{page:{slot:{alreadyExists:function(e,t){return"The slot '"+e+"' already exists with the '"+t+"' page.\nPlease change the slot name to be unique per page"}}},pages:{setEnvironment:function(){return"A device and server type is required for setting up an environment"},hasNoType:function(){return"A slot type property is required to add a new slot to a page"}},slots:{definition:{doesNotExist:function(e){return'[ cns ads slot manager ] The definition for the "'+e+'" slot was not found'},hasBadEl:function(e,t,n){return'[ cns ads slot manager ] At the time of staging the "'+e+'" ad slot in page template "'+t+'" the slot\'s el path was not found in the page el "'+n+'"'},tooManyEls:function(e){return'[ cns ads slot manager ] The DOM path "'+e+'", results in more than one element, to ad slot series use the "every" slot rendering method instead'},canNotRenderStage:function(e,t,n){return'[ cns ads slot manager ] The slot instance for "'+e+'" could not be appended, either the injection point "'+t+'" is not on the page or the "'+n+'" method is not valid.'},noAppropriateSizes:function(e,t){return'[ cns ads slot manager ] No sizes were given for slot instance "'+e+'" on '+t+". Therefore the ad cannot be rendered."},invalidSlotEl:function(e){return'[ cns ads slot manager ] The slot instance for "'+e+'" does not have a slot el append point or is trying to append to the <html> element'},hasNoRender:function(e,t){return'[ cns ads slot manager ] The slot-type "'+e+'" in the '+t+" template did not have a render block in its instance definition"},slotDestroyFailed:function(e){return"[ cns ads slot manager ] The slot could not be destroyed: "+e}},instance:{alreadyStaged:function(e,t){return'[ cns ads Slot instance ] The slot instance for "'+e+'" on page "'+t+'" could not be staged because it was already staged'}},gpt:{cantCreateSlot:function(){return"[cns ads slots gpt] GPT was unable to create the slot!"},requestFailed:function(e){return"[ cns ads slots gpt ] The request to create or refresh a GPT slot failed: "+e},haltPII:function(){return"[cns ads slots gpt] Personally identifiable information (PII) has been found in the URL, GPT has been halted!"},notReady:function(e){return"[cns ads slots gpt] GPT was unable to load: "+e},cantDestroySlot:function(e){return"[cns ads slots gpt] GPT was unable to destroy the slot with container Id: "+e},keyExceedsCharLimit:function(e){return"[cns ads slots gpt] key will not be added to GPT call. Key exceeds 20 character limit: "+e}},cantRequestNotStaged:function(e,t){return'The slot instance for "'+e+'" on page "'+t+'" could not be requested because it has not been staged'},invalidProperty:function(e){return'The slot instance for "'+e+'" does not have a valid "property" property'},invalidNetwork:function(e){return'The slot instance for "'+e+'" does not have a valid "network" property'},invalidIdentifiers:function(e){return'The slot instance for "'+e+'" does not have a valid "identifiers" property'},missingProperty:function(e,t){return'The configuration object passed into slot instance "'+e+'" is missing the "'+t+'" property'},singleRequestFailed:function(e,t){var n=t.message||t;return'Request for Slot with name "'+e+'" failed: '+n},linkedRequestFailed:function(e,t){var n=t.message||t;return'Request for Slots with link name "'+e+'" failed: '+n}}}}},{}],6:[function(e,t){"use strict";function n(e){return this.validate(e)?void this.setup(e):!1}var r=e("@condenast/atp-utl/functions").callbackHandler,o=e("@condenast/atp-utl/loop"),i=e("@condenast/atp-utl/objects/options"),a=e("@condenast/atp-utl/objects/merge"),s=e("@condenast/atp-utl/arrays/has"),u=e("@condenast/atp-utl/parse"),c=e("@condenast/atp-utl/type/isArray"),l=e("@condenast/atp-utl/type/isFunction"),d=e("@condenast/atp-utl/type/isObject"),p=e("@condenast/atp-utl/objects/keys"),f=e("@condenast/atp-utl/feature"),g=e("../lang").err.pages,h=e("../reporting"),m=e("../slots/manager").api,y={},v=f.isStorageEnabled();n.prototype.validate=function(e){return e},n.prototype.setup=function(e){this.state=i(y,e),this.cache={},this.targeting={},this.setReferrers(),this.parseForcedURLTargeting(),this.parseQueryStringSpecialCases(),this.processTargeting(),this.setVisitsTargeting(),this.setBucketTargeting(),this.reportMetrics(),this.onCreatePluginHookHandler().then(this.batchCreateSlots.bind(this,null)).then(this.cacheTheSlots.bind(this))["catch"](h.errors.error.bind(console))},n.prototype.setReferrers=function(){var e=document.referrer.split("://")[1]||null,t=null,n=v&&sessionStorage.getItem("ctx_ses_soc")||null,r={fb:"facebook.com",tw:"t.co",rd:"reddit.com",pn:"pinterest.com",ig:"instagram.com",glp:"plus.url.google.com",tbl:"t.umblr.com",qq:"qzone.qq.com",we:"weibo.com",hb:"habbo.com",vk:"vk.com",rr:"renren.com",or:"orkut.google.com",sn:"snapchat.com"};e&&o(r,function(r,o){var i="(^|\\.)"+r;null!==e.match(i)&&(t=o,n=n||v&&sessionStorage.setItem("ctx_ses_soc",o))}),this.state.referrers={social:t,url:e,sessionSocialNetwork:n}},n.prototype.parseForcedURLTargeting=function(){function e(e){var t={},n=e.slice(1).slice(0,-1).split("][");return o(n,function(e){var n=e.split("|");t[n[0]]=n[1].split(",")}),t}var t=u(),n={},r={};t.CNS_ADS_targeting&&(n=e(t.CNS_ADS_targeting)),t.ao_test&&(r.ao_test=t.ao_test),t.ap_test&&(r.ap_test=t.ap_test),this.targeting=a({mergeables:[this.targeting,n,r]})},n.prototype.setVisitsTargeting=function(){function e(e){return e>r?!0:void 0}if(v){var t=(new Date).getTime(),n=new Date(t).getDate()-1,r=(new Date).setDate(n);sessionStorage.setItem("session-visits",parseInt(sessionStorage.getItem("session-visits"),10)+1||1);var o=sessionStorage.getItem("session-visits"),i=localStorage.getItem("total-visits"),a=i?i+","+t:t,s=a.toString().split(",").filter(e);localStorage.setItem("total-visits",s.join(",")),this.targeting.sqt=o,this.targeting.sqt24hrs=s.length,this.targeting.usr_pvc_bs=o,this.targeting.usr_pvc_24hr=s.length}},n.prototype.setBucketTargeting=function(){this.targeting.usr_bkt_eva=v&&localStorage.getItem("usr_bkt_eva")||null,this.targeting.usr_bkt_ses=v&&sessionStorage.getItem("usr_bkt_ses")||null,this.targeting.usr_bkt_pv=Math.floor(100*Math.random())+1},n.prototype.reportMetrics=function(){var e=h.helpers.getReportingData(this.state);h.page.created(e)},n.prototype.parseQueryStringSpecialCases=function(){var e=["mbid"];this.targeting=this.targeting||{},o(u(),function(t,n){s(e,n)&&(this.targeting[n]=t,this.targeting["url_"+n]=t)}.bind(this))},n.prototype.processTargeting=function(){var e="cnt",t={};o(this.state.targeting,function(n,r){t[e+"_"+r]=n}),this.targeting=a({mergeables:[this.targeting,t]})},n.prototype.onCreatePluginHookHandler=function(){var e=this.state,t={targeting:this.targeting,meta:{property:e.property,templateType:e.templateType,channel:e.channel,subChannel:e.subChannel,slug:e.slug}};return r({func:e.onCreate,payload:t})},n.prototype.batchCreateSlots=function(e){return m.batch.create({environment:this.state.environment,page:{slug:this.state.slug,templateType:this.state.templateType,forChildren:this.state.forChildren,channel:this.state.channel,subChannel:this.state.subChannel,targeting:this.targeting,referrers:this.state.referrers},onSlotRender:this.state.onSlotRender,contentURI:this.state.contentURI,slotList:e||this.state.slots})},n.prototype.addSlot=function(e,t){if(!e||d(e)&&!e.type)return void h.errors.warning(g.hasNoType());var n=d(e)&&e.type,r=d(e)&&e.overwrites,o=m.modifySlotType({type:n?e.type:e,overwrites:r?e.overwrites:t,template:this.state.templateType,page:this.state.slug}),i=m.batch.create({environment:this.state.environment,page:{slug:this.state.slug,templateType:this.state.templateType,forChildren:this.state.forChildren,targeting:this.targeting,referrers:this.state.referrers},contentURI:this.state.contentURI,slotList:[o],onSlotRender:this.onSlotRenderHandler.bind(this,o.onSlotRender)});this.cacheTheSlots(i)},n.prototype.onSlotRenderHandler=function(e,t){this.state.onSlotRender&&this.state.onSlotRender(t),e&&e(t)},n.prototype.cacheTheSlots=function(e){var t=[];return o(e,function(e){t.push({id:e.state.id,type:e.state.type,name:e.state.name,groups:e.state.definition.groups,adUnitPath:e.state.adUnitPath});var n="_"+e.getId();this.cache[n]=e}.bind(this)),this.onPageSlotsAddedHandler(t),Promise.resolve()},n.prototype.onPageSlotsAddedHandler=function(e){l(this.state.onPageSlotsAdded)&&this.state.onPageSlotsAdded({slots:e})},n.prototype.filter=function(e,t){return e?void o(this.cache,function(n,r){var i=p(e)[0],a=e[i];c(a)&&("types"===i&&o(a,function(e){e===n.getType()&&t(n,r)}),"names"===i&&o(a,function(e){e===n.getName()&&t(n,r)}),"groups"===i&&o(a,function(e){c(n.getGroups())&&s(n.getGroups(),e)&&t(n,r)}))}):void o(this.cache,function(e,n){t(e,n)})},n.prototype.destroy=function(e){this.filter(e,function(e,t){e.destroy(),this.cache[t]=null,delete this.cache[t]}.bind(this))},n.prototype.refresh=function(e){this.filter(e,function(e){e.refresh()})},n.prototype.getSlot=function(e){var t;return o(this.cache,function(n){var r=n.state.name;r===e&&(t=n)}),t?t:void 0},t.exports=n},{"../lang":5,"../reporting":9,"../slots/manager":14,"@condenast/atp-utl/arrays/has":17,"@condenast/atp-utl/feature":20,"@condenast/atp-utl/functions":21,"@condenast/atp-utl/loop":22,"@condenast/atp-utl/objects/keys":72,"@condenast/atp-utl/objects/merge":73,"@condenast/atp-utl/objects/options":74,"@condenast/atp-utl/parse":76,"@condenast/atp-utl/type/isArray":78,"@condenast/atp-utl/type/isFunction":85,"@condenast/atp-utl/type/isObject":91}],7:[function(e,t){"use strict";function n(e){return g=y(S,e),h=!0,Promise.resolve()}function r(e){if(!h)return!1;var t=w(e,"-"),n=k[t];return l(n)}function o(e){if(!h)return!1;e.environment=T,e.property=g.property,e.onCreate=g.onCreate,i(),a(e),u(e),e.slots=c(e);var t=e.subChannel?e.channel+"/"+e.subChannel:e.channel;e.contentURI=e.contentURI||t;var n=new j(e);return n?(k[e.slug]=n,l(n)):Promise.reject()}function i(){var e=x&&localStorage.getItem("usr_bkt_eva")||null,t=sessionStorage.getItem("usr_bkt_ses")||null;x&&!e&&localStorage.setItem("usr_bkt_eva",Math.floor(100*Math.random())+1),x&&!t&&sessionStorage.setItem("usr_bkt_ses",Math.floor(100*Math.random())+1)}function a(e){s(e,"template_type","templateType"),s(e,"content_uri","contentURI"),s(e,"sub_channel","subChannel"),s(e,"for_children","forChildren")}function s(e,t,n){e[n]=e[t]||e[n],e[t]=null,delete e[t]}function u(e){b(e,function(t,n){e[n]=w(t,"_")}),e.slug=w(e.slug,"-")}function c(e){var t=g.sets,n=[e.channel,e.subChannel,e.templateType].join("_"),r=[e.channel,e.templateType].join("_"),o=[e.templateType];return e.slots||t[e.slug]||t[n]||t[r]||t[o]||t._default}function l(e){var t={slots:{add:e.addSlot.bind(e),get:e.getSlot.bind(e),refresh:e.refresh.bind(e),destroy:e.destroy.bind(e)},addSlot:e.addSlot.bind(e),destroy:p.bind(e)};return t}function d(e){return h?e&&e.server&&e.device?(_.setup(e.server),T=e,Promise.resolve()):Promise.reject(m.setEnvironment()):!1}function p(){if(this.state){var e=this.state.slug;return this.destroy(),k[e]=null,void delete k[e]}}function f(){return h?void b(k,function(e,t){e.destroy(),k[t]=null,delete k[t]}):!1}var g,h,m=e("../lang").err.pages,y=e("@condenast/atp-utl/objects/options"),v=e("@condenast/atp-utl/feature"),b=e("@condenast/atp-utl/loop"),_=e("../reporting"),w=e("@condenast/atp-utl/strings/slugify"),x=v.isStorageEnabled(),j=e("./Page"),S={},k={},T={server:"staging",device:"desktop"};t.exports={setup:n,api:{get:r,create:o,destroy:f,environment:d}}},{"../lang":5,"../reporting":9,"./Page":6,"@condenast/atp-utl/feature":20,"@condenast/atp-utl/loop":22,"@condenast/atp-utl/objects/options":74,"@condenast/atp-utl/strings/slugify":77}],8:[function(e,t){"use strict";function n(e){return u=e,c=!0,Promise.resolve()}function r(e,t){return c?void(h[e]=t):!1}function o(e,t){if(!c)return!1;"onSlotRenderStart"===e&&i(t.dom);var n=[];return l(h,function(r){function o(t){return new Promise(function(n){var o=p();t.process={done:function(){g.plugin.hook.complete({plugin_name:r.code,version:r.version,hook_name:e,time_to_complete:o?p()-o:null}),n()},failed:function(t){g.plugin.hook.failed({plugin_name:r.code,version:r.version,hook_name:e,time_to_complete:o?p()-o:null});var i=t.message;g.errors.error(i),n()}},i.call(null,t)})}if(r&&r.hooks[e]&&d(t)){var i=r.hooks[e],c=a(t);s(r.code,t);var l=c(r.code),h=u.timeout?u.timeout:1e3,m=f({func:o,payload:l,timeout:h,onTimeout:function(){g.plugin.hook.timeout({plugin_name:r.code,version:r.version,hook_name:e})}});n.push(m)}}),new Promise(function(e){Promise.all(n).then(function(){e()})["catch"](function(t){g.errors.error(t),e()})})}function i(e){var t={};l(h,function(e,n){t[n]={},l(e.api,function(r,o){t[n][o]=function(){e.api[o].apply(null,arguments)}})}),e.window.cns_ads&&(e.window.cns_ads.plugins=t)}function a(e){return function(t){var n={};return e.targeting&&(n.addTargeting=function(n,r){var o=m+"_"+t+"_"+n;"rub"===t&&(o=n),e.targeting[o]=r}),e.meta&&(n.getMeta=function(){return e.meta}),e.dom&&(n.getDOM=function(){return e.dom}),e.render&&(n.getRender=function(){return e.render}),n}}function s(e,t){"cst"!==e&&(t.render=null)}var u,c,l=e("@condenast/atp-utl/loop"),d=e("@condenast/atp-utl/type/isObject"),p=e("@condenast/atp-utl/feature").performance.now,f=e("@condenast/atp-utl/functions").callbackHandler,g=e("../reporting"),h={},m="vnd";t.exports={setup:n,api:{add:r,runHook:o}}},{"../reporting":9,"@condenast/atp-utl/feature":20,"@condenast/atp-utl/functions":21,"@condenast/atp-utl/loop":22,"@condenast/atp-utl/type/isObject":91}],9:[function(e,t){"use strict";function n(e){f||(f=e)}function r(e){cns.async("metrics",function(t){t.emit(e)})}function o(e,t){r({campaign:b,name:e,meta:t})}function i(e,t){if(h()){var n=window.performance.getEntries(),o=new RegExp(t),i=n.filter(s(o))[0];i&&r({campaign:b,name:e,meta:{requestStart:i.startTime,requestEnd:i.responseEnd,init:m()}})}}function a(e,t){"ci"!==f?r({campaign:b,issueType:e,environment:f,errorMessage:t}):console.warn(t),"error"===e&&console.error("object"==typeof t&&t.stack?t.stack:t)}function s(e){return function(t){return e.test(t.name)}}function u(){var e=0;return g(document.images,function(t){var n=t.width*t.height;e+=n}),e}function c(e,t){var n=e.cns_ads?e.cns_ads.tracker:{};return y.getData(e,{getErrors:n.getErrors,cutoff:t})}function l(e){var t=!!e.page,n=u(),r={content_uri:e.contentURI,device:e.environment&&e.environment.device,image_avg_surface:n&&n/document.images.length,image_count:document.images.length,image_surface:n,server:e.environment&&e.environment.server,usr_bkt_eva:v&&window.localStorage.getItem("usr_bkt_eva"),usr_bkt_ses:v&&window.sessionStorage.getItem("usr_bkt_ses"),vp_height:document.documentElement.clientHeight,vp_width:document.documentElement.clientWidth};return t&&p(e,r)||d(e,r)}function d(e,t){return t.channel=e.channel,t.referrers_social=e.referrers&&e.referrers.social,t.referrers_url=e.referrers&&e.referrers.url,t.slots_count=e.slots&&e.slots.length,t.sub_channel=e.subChannel,t.tags=e.targeting&&e.targeting.tags&&[].concat(e.targeting.tags).join(","),t.template=e.templateType,t}function p(e,t){return t.channel=e.page.channel,t.ctx_template=e.page.templateType,t.id=e.id,t.instance=e.name.split("_").pop(),t.name=e.name,t.out_of_page=("_out_of_page"===e.definition.type).toString(),t.position_fold=t.vp_height-e.els.container.offsetTop>0?"atf":"btf",t.position_xy=e.els.container.offsetTop+"x"+e.els.container.offsetLeft,t.referrers_social=e.page.referrers.social,t.referrers_url=e.page.referrers.url,t.refreshed=e.report.isRefresh,t.request_number=e.context_targeting&&e.context_targeting.ctx_slot_rn||0,t.session_social_network=e.page.referrers.sessionSocialNetwork,t.sub_channel=e.page.subChannel,t.tags=e.page.targeting.cnt_tags&&[].concat(e.page.targeting.cnt_tags).join(","),t.template=e.page.templateType,t.type=e.type,t}var f,g=e("@condenast/atp-utl/loop"),h=e("@condenast/atp-utl/feature").isGetEntriesEnabled,m=e("@condenast/atp-utl/feature").performance.now,y=e("./tracker"),v=e("@condenast/atp-utl/feature").isStorageEnabled(),b="cns_ads";t.exports={setup:n,ads:{bounce:o.bind(null,"user_bounce"),services:i.bind(null,"library_service","/services.*js"),gpt:i.bind(null,"library_gpt","/tag/js/gpt.js"),killed:o.bind(null,"ads_killed")},plugin:{hook:{complete:o.bind(null,"plugin_hook_complete"),failed:o.bind(null,"plugin_hook_failed"),timeout:o.bind(null,"plugin_hook_timeout")}},page:{created:o.bind(null,"page_created")},slot:{collected:o.bind(null,"slot_collected"),rendered:o.bind(null,"slot_rendered"),staged:o.bind(null,"slot_staged"),requested:o.bind(null,"slot_requested"),visibilityChange:o.bind(null,"slot_visibility_change"),hovered:o.bind(null,"slot_hovered"),clicked:o.bind(null,"slot_clicked"),unfriendlyiFrame:o.bind(null,"unfriendly_iframe")},helpers:{getImageArea:u,getTrackerData:c,getReportingData:l},errors:{error:a.bind(null,"error"),warning:a.bind(null,"warning")}}},{"./tracker":10,"@condenast/atp-utl/feature":20,"@condenast/atp-utl/loop":22}],10:[function(e,t){"use strict";function n(e){var t=e.match(/\.([^\.\/\?]+)(?:$|\?)/);return t?t[1].toLowerCase():null}function r(e,t,r){var o=e.name,i=r.threshold||.001;if(r.cutoff&&e.startTime<r.cutoff-i)return!1;if(t.initiator&&e.initiatorType===t.initiator)return!0;var a=n(o);return-1!==t.extensions.indexOf(a)}function o(e,t,n){var o={},i=e.performance.getEntries();return g(i,function(e){var i=e.name,a=r(e,t,n);a&&(o[i]=e)}),o}function i(e,t){var n=e[t.attr];return n?!0:!1}function a(e,t){var n={};if(!t.key)return n;var r=e.document[t.key];return g(r,function(e){var r=e[t.attr],o=i(e,t);o&&(n[r]=e)}),n}function s(e){var t={},n=e.document.getElementsByTagName("iframe");return g(n,function(e){var n=e.src;n&&(t[n]=e)}),t}function u(e){return h(e).length}function c(e,t,n){var r={frames:s(e)},i=t?a:o;return g(y,function(t){r[t.type]=i(e,t,n)}),r}function l(e){var t={js:0,resource:{js:0,css:0,image:0}};return g(e,function(e){if(e.target&&e.target.tagName){var n=e.target.tagName,r=v[n];r&&t.resource[r]++}else t.js++}),t}function d(e){var t={},n=e.performance.getEntries();if(n.length>0){var r=n[n.length-1];t.latestStart=r.startTime}return t}function p(e,t,n,r){var o=l(n),i=o.resource,a=u(t.js),s=u(t.css),c=u(t.images),p=u(t.fonts),f=u(t.frames),g={fallback:r,files:{js:a,css:s,images:c,fonts:p,frames:f},raw:{errors:n,files:t}};return r||(g.files.js+=i.js,g.files.css+=i.css,g.files.images+=i.image,g.files.latestStart=t.latestStart,g.performance=d(e)),g.errors=n?o:{untracked:!0},g}function f(e,t){var n=t||{},r=n.fallback||!m(),o=c(e,r,n),i=n.getErrors?n.getErrors():null,a=p(e,o,i,r);return a}var g=e("@condenast/atp-utl/loop"),h=e("@condenast/atp-utl/objects/keys"),m=e("@condenast/atp-utl/feature").isGetEntriesEnabled,y={js:{type:"js",initator:"script",extensions:["js"],key:"scripts",attr:"src"},css:{type:"css",extensions:["css"],key:"styleSheets",attr:"href"},images:{type:"images",initiator:"img",extensions:["jpg","jpeg","jpe","jif","jfif","jfi","gif","png","webp","tiff","tif","svg","svgz","bmp","dib","ico"],key:"images",attr:"src"},fonts:{type:"fonts",extensions:["ttf","otf","eot","woff","woff2"]}},v={img:"image",IMG:"image",link:"css",LINK:"css",script:"js",SCRIPT:"js"};t.exports={getData:f}},{"@condenast/atp-utl/feature":20,"@condenast/atp-utl/loop":22,"@condenast/atp-utl/objects/keys":72}],11:[function(e,t){"use strict";function n(e){this.setup(e)}var r=e("@condenast/atp-utl/objects/merge"),o=e("@condenast/atp-utl/functions").callbackHandler,i=e("@condenast/atp-utl/animations"),a=e("@condenast/atp-utl/loop"),s=e("@condenast/atp-utl/parse"),u=e("@condenast/atp-utl/type/isString"),c=e("@condenast/atp-utl/type/isNumber"),l=e("@condenast/atp-utl/strings/slugify"),d=e("@condenast/atp-utl/dom/iframe").isFriendly,p=e("@condenast/atp-utl/feature"),f=p.performance.now,g=e("@condenast/atp-utl/functions").bump,h=e("../dom"),m=e("../lang").err.slots,y=e("../reporting"),v=1e3;n.prototype.setup=function(e){this.createStateObject(e),this.stage().then(this.checkRequestability.bind(this)).then(this.listenForUserInteraction.bind(this))["catch"](y.errors.warning.bind(console))},n.prototype.createStateObject=function(e){var t=this.state=e;t.GET=s(),t.els={},t.report={created:f(),frameContext:{}},t.creative={isEmpty:!1,isRendered:!1},t.request={inProgress:!1,timestamp:!1,onlyOnce:t.definition.refresh===!1,delay:c(t.definition.refresh)?t.definition.refresh:t.refreshDelay},t.ui={hasBeenStaged:!1,isInVPRange:!1},t.viewability={hasBeenViewed:!1,hasBeenGPTViewed:!1,hasBeenMOATViewed:!1,isMOATPresent:!1,inViewPercentage:0},t.completedCheckInterval=t.completedCheckInterval||v,this.generateIds(),this.generateTargeting(),this.generateAttributes()},n.prototype.generateIds=function(){var e=this.state,t=e.definition.id,n=Date.now()+(Math.random()+"").replace(".",""),r=t&&u(t)?t:null,o=t?t[e.environment.device]:null,i="cns_ads_"+n+"_"+e.name,a=r||o,s=h.get("#"+a);e.id=a||n,e.ids={dom_prefix:i,stage:i+"_stage",container:a&&!s?a:i+"_container"}},n.prototype.generateAttributes=function(){var e=this.state,t=e.definition.data,n=t&&t[e.environment.device]||t;e.data={},n&&a(n,function(t,n){e.data["data-"+n]=t})},n.prototype.generateTargeting=function(){this.setEnvTargeting(),this.setContextTargeting(),this.setReportingDataTargeting(),this.setPageTargeting(),this.setSlotTargeting()},n.prototype.setEnvTargeting=function(){var e=this.state;e.env_targeting={env_device_type:e.environment.device,env_server:e.environment.server}},n.prototype.setContextTargeting=function(){var e=this.state;e.context_targeting={ctx_referrer:e.page.referrers.url,ctx_ref_url:e.page.referrers.url,ctx_soc_net:e.page.referrers.social,ctx_ref_soc:e.page.referrers.social,ctx_ses_soc:e.page.referrers.sessionSocialNetwork,ctx_template:e.page.templateType,ctx_page_slug:e.page.slug,ctx_page_channel:e.page.channel,ctx_page_sub_channel:e.page.subChannel,ctx_slot_name:e.name,ctx_slot_instance:e.name,ctx_slot_type:e.type,ctx_slot_rn:0}},n.prototype.setReportingDataTargeting=function(){var e=this.state,t=e.environment.device,n=e.page.templateType;e.reporting_data_targeting={rdt_device_template:t+"_"+n}},n.prototype.setSlotTargeting=function(){var e=this.state,t={ctx_slot_name:e.context_targeting.ctx_slot_name,ctx_slot_instance:e.context_targeting.ctx_slot_instance,ctx_slot_type:e.context_targeting.ctx_slot_type,ctx_slot_rn:e.context_targeting.ctx_slot_rn};e.slot_targeting=r({mergeables:[t,e.onRequest_targeting]})},n.prototype.setPageTargeting=function(){var e=this.state,t={ctx_referrer:e.context_targeting.ctx_referrer,ctx_ref_url:e.context_targeting.ctx_ref_url,ctx_soc_net:e.context_targeting.ctx_soc_net,ctx_ref_soc:e.context_targeting.ctx_ref_soc,ctx_ses_soc:e.context_targeting.ctx_ses_soc,ctx_template:e.context_targeting.ctx_template,ctx_page_slug:e.context_targeting.ctx_page_slug,ctx_page_channel:e.context_targeting.ctx_page_channel,ctx_page_sub_channel:e.context_targeting.ctx_page_sub_channel};e.page_targeting=r({mergeables:[e.env_targeting,e.reporting_data_targeting,e.page.targeting,t]})},n.prototype.stage=function(){var e=this.state,t=e.definition.render.slot.method,n=e.definition.render.slot.el;return this.validateStageability(n,t)?this.appendStage(n,t).then(this.onStaged.bind(this))["catch"](y.errors.error.bind(console)):Promise.reject(m.definition.canNotRenderStage(e.name,e.definition.render.slot.el,t))},n.prototype.validateStageability=function(e,t){var n=this.state;if(n.ui.hasBeenStaged)return y.errors.error(m.instance.alreadyStaged(n.name,n.page.slug)),!1;var r="function"==typeof h[t],o=document.body.contains(e),i=o&&r;return i?!0:!1},n.prototype.appendStage=function(e,t){return new Promise(function(n,r){var o=this.state;return this.createStageEl(),o.els.stage&&e&&t?(h[t](o.els.stage,e),o.ui.hasBeenStaged=!0,void g(n)):void r()}.bind(this))},n.prototype.createStageEl=function(){var e=this.state,t=l(e.name.toLowerCase(),"-"),n=l(e.type.toLowerCase(),"-"),r="cns-ads-slot-type-",o=document.createElement("div"),i="cns-ads-stage",a=r+n,s=r+t,u=this.createContainerEl();return o.setAttribute("data-name",e.name),o.setAttribute("data-slot-type",e.type),o.id=e.ids.stage,o.classList.add(i,a,s),this.setDefaultInlineStyles(o),"_out_of_page"===e.definition.type&&(this.hideStage(o),o.classList.add("cns-ads-slot-type-out-of-page")),o.appendChild(u),e.els.stage=o,o},n.prototype.createContainerEl=function(){var e=this.state,t=document.createElement("div"),n="cns-ads-container";return t.classList.add(n),t.id=e.ids.container,this.setContainerDataAttrs(t),this.setDefaultInlineStyles(t),t.style.margin="0 auto",t.style.boxSizing="content-box",e.els.container=t,t},n.prototype.setContainerDataAttrs=function(e){var t=this.state.data;Object.keys(t)&&a(t,function(t,n){e.setAttribute(n,t)})},n.prototype.setDefaultInlineStyles=function(e){e.style.fontSize=0,e.style.lineHeight=0,
e.style.overflow="hidden"},n.prototype.onStaged=function(){var e=this.state,t={targeting:e.slot_targeting};e.report.staged=f();var n=y.helpers.getReportingData(this.state);return y.slot.staged(n),o({func:e.onStaged,payload:t})},n.prototype.checkRequestability=function(e){var t=this.state,n=!t.request.timestamp,r=!!e,o=5e3,i=t.request.timestamp&&Date.now()>t.request.timestamp+o,a=r||t.request.timestamp&&Date.now()>t.request.timestamp+t.request.delay,s=r||t.viewability.hasBeenViewed||!t.viewability.hasBeenViewed&&i,u=t.request.inProgress&&!r,c=!n&&t.request.onlyOnce,l=!c&&s&&a||n,d=!u&&l&&this.isInVPRange();d&&(n||(t.report.isRefresh=!0),this.request())},n.prototype.isInVPRange=function(){var e=this.state;if(e.els.container){var t=100,n=-t,r=document.documentElement.clientHeight+t,o=-t,i=document.documentElement.clientWidth+t,a=e.els.container.getBoundingClientRect();return e.isInViewportRange=a.top<r&&a.bottom>n&&a.left<i&&a.right>o||!e.definition.request_in_vp_only,e.isInViewportRange&&!e.report.inViewport&&(e.report.inViewport=f()),e.isInViewportRange}},n.prototype.request=function(){var e=this.state,t=e.id;return e.ui.hasBeenStaged?void e.onRequest(t):(y.errors.error(m.cantRequestNotStaged(e.name,e.page.slug)),void(e.request.inProgress=!1))},n.prototype.prepareForRequest=function(){var e=this.state,t=e.identifiers.human_slug,n=e.identifiers.overwrite,r=n||t;return this.setPreRequestSlotState(),this.reportTrackerData(),this.reportRequestData(),this.logState(),o({func:e.onPluginHook,payload:{targeting:e.onRequest_targeting,meta:{type:e.definition.type,sizes:e.definition.sizes&&e.definition.sizes[e.environment.device],id:e.ids.container,network:e.network,baseUA:r}}}).then(function(){this.setSlotTargeting()}.bind(this))},n.prototype.getRequestData=function(){var e=this.state,t=!!e.definition.sizes,n=t?e.definition.sizes[e.environment.device]:void 0;return{out_of_page:"_out_of_page"===e.type,id:e.ids.container,forChildren:e.page.forChildren,stage:e.els.stage,page:e.page.slug,sizes:n,slotTargeting:e.slot_targeting,pageTargeting:e.page_targeting}},n.prototype.reportTrackerData=function(){var e=this.state;if(e.creative.ids){var t=this.getTrackerData(),n=this.getCreativeMetrics();n.pageLoad_to_requested=e.report.requested,n.pageLoad_to_in_viewport=e.report.inViewport;var o=r({mergeables:[n,t]});y.slot.collected(o)}},n.prototype.getTrackerData=function(){var e=this.state,t={};if(null===f())return t;var n=e.els.iframe;if(n&&d(n)){var r=n.contentWindow,o=e.report.frameRequested||0,i=y.helpers.getTrackerData(r,o),a=i.errors.untracked;t.errors_untracked=a,a||(t.errors_js=i.errors.js,t.errors_resource_js=i.errors.resource.js,t.errors_resource_css=i.errors.resource.css,t.errors_resource_image=i.errors.resource.image),t.files_js=i.files.js,t.files_css=i.files.css,t.files_images=i.files.images,t.files_fonts=i.files.fonts,t.files_frames=i.files.frames,t.files_fallback=i.fallback}return t},n.prototype.setPreRequestSlotState=function(){var e=this.state,t=e.els.iframe;e.onRequest_targeting={},e.request.inProgress=!0,e.creative.isRendered=!1,e.viewability.hasBeenGPTViewed=!1,e.viewability.hasBeenMOATViewed=!1,e.request.timestamp=Date.now(),e.report.requested=f(),t&&d(t)&&(e.report.frameRequested=f(t.contentWindow))},n.prototype.reportRequestData=function(){var e=this.state,t=y.helpers.getReportingData(this.state);t.pageLoad_to_requested=e.report.requested,t.pageLoad_to_in_viewport=e.report.inViewport,y.slot.requested(t)},n.prototype.onImpressionViewable=function(){var e=this.state;e.viewability.hasBeenGPTViewed=!0,e.viewability.hasBeenViewed=!0,e.report.impressionViewable=f()},n.prototype.onVisibilityChange=function(e){var t=this.state,n=t.viewability.isViewable||!1,r=!!e.inViewPercentage;if(r!==n){var o=y.helpers.getReportingData(this.state);if(t.report.now=f(),null!==t.report.now&&(t.report.in_viewport_to_visible_change=f()-t.report.inViewport,t.report.impression_viewable_to_visible_change=f()-t.report.impressionViewable||"impression not viewable"),o.visible_percentage=e.inViewPercentage.toString(),o.visible=r.toString(),t.viewability.inViewPercentage=e.inViewPercentage,t.viewability.isViewable=!!e.inViewPercentage,o.in_viewport_to_visible_change=t.report.in_viewport_to_visible_change,o.impression_viewable_to_visible_change=t.report.impression_viewable_to_visible_change,window.data=o,t.creative.ids&&t.creative.ids.advertiserId){var i=this.getCreativeMetrics();a(Object.keys(i),function(e){o[e]=i[e]})}y.slot.visibilityChange(o)}},n.prototype.onMOATViewable=function(){var e=this.state;e.viewability.hasBeenMOATViewed=!0,e.viewability.hasBeenViewed=!0},n.prototype.onMOATPresent=function(){var e=this.state;e.viewability.isMOATPresent=!0},n.prototype.onIDCheck=function(){var e=this.state;return e.creative.ids},n.prototype.listenForUserInteraction=function(){function e(){t.userHasInteractedWithPage&&!t.userIsInteractingWithAd&&(this.checkRequestability(),t.userHasInteractedWithPage=!1)}var t=this.state,n=60;return this.state.fpsLoop=i(e.bind(this),n),this.addEventListeners(),Promise.resolve()},n.prototype.addEventListeners=function(){var e,t=this.state.els.container;this.userEvent=function(){this.state.userHasInteractedWithPage=!0}.bind(this),this.userOverAd=function(){this.state.userIsInteractingWithAd=!0}.bind(this),this.userOffAd=function(){this.state.userIsInteractingWithAd=!1,clearTimeout(e)}.bind(this),this.userHoverContainer=function(t){e=setTimeout(function(){if("mouseenter"===t.type&&!this.state.report.hoverReported){var e=this.getCreativeMetrics();y.slot.hovered(e),this.state.report.hoverReported=!0}}.bind(this),500)}.bind(this),window.addEventListener("scroll",this.userEvent,!0),window.addEventListener("mousemove",this.userEvent,!0),t.addEventListener("mouseenter",this.userOverAd,!0),t.addEventListener("touchstart",this.userOverAd,!0),t.addEventListener("mouseout",this.userOffAd,!0),t.addEventListener("touchend",this.userOffAd,!0),t.addEventListener("mouseenter",this.userHoverContainer,!1)},n.prototype.onRenderStart=function(e){var t=this.state,n='iframe[id^="google_ads_iframe"]:not([id$="to_be_removed__"]):not([id$="hidden__"])',r=t.els.container.querySelector(n);t.els.iframe=r;var i=!1,a=!1;return this.setPostRenderSlotState(e),this.setPostRenderStageElState(e),this.setPostRenderContainerElState(e),this.addiFrameEventListeners(),y.slot.rendered(this.getCreativeMetrics()),d(r)?(i=t.els.iframe.contentWindow,a=i.document):y.slot.unfriendlyiFrame(this.getCreativeMetrics()),o({func:t.onRenderStart,payload:{meta:{renderedSize:e.dimensions.string,domID:e.domID,slotType:t.definition.type,isHidden:t.isHidden,container:t.els.container},dom:{window:i,document:a},render:t.definition.render[t.environment.device]}})},n.prototype.setPostRenderSlotState=function(e){var t=this.state;t.report.rendered=f(),t.context_targeting.ctx_slot_rn++,t.request.inProgress=!1,t.creative.isRendered=!0,t.report.hoverReported=!1,t.meta=e,t.meta.domID=t.ids.container,t.creative.renderedSize=e.dimensions.string,t.creative.isEmpty=e.isEmpty,t.creative.ids={advertiserId:e.advertiser,creativeId:e.creative,lineItem:e.line_item,order:e.order,topUnit:e.top_unit,unit:e.unit}},n.prototype.setPostRenderStageElState=function(e){var t=this.state,n=t.creative.isEmpty,r=t.els.stage,o=e.dimensions.string,i="1x1"===o;t.lastAdSize&&o&&r.classList.remove("cns-ads-slot-size-"+t.lastAdSize),o&&(r.classList.add("cns-ads-slot-size-"+o),t.lastAdSize=o),n||this.showStage(r),(n||i)&&this.hideStage(r)},n.prototype.setPostRenderContainerElState=function(e){var t=this.state,n=t.els.container,r=e.dimensions;e.isSized?(n.style.height=r.height+"px",n.style.width=r.width+"px"):(n.style.removeProperty("height"),n.style.removeProperty("width"))},n.prototype.addiFrameEventListeners=function(){var e=this.getCreativeMetrics();if(!d(this.state.els.iframe))return void y.slot.unfriendlyiFrame(e);var t=this.state.els.iframe.contentDocument.body;this.userClickedAd=function(){y.slot.clicked(e)},t.addEventListener("click",this.userClickedAd,!0),t.addEventListener("touchstart",this.userClickedAd,!0)},n.prototype.getCreativeMetrics=function(){var e=this.state,t=y.helpers.getReportingData(this.state);return t.advertiser_id=e.creative.ids.advertiserId,t.creative_id=e.creative.ids.creativeId,t.creative_type="sized",t.is_empty=e.creative.isEmpty,t.line_item_id=e.creative.ids.lineItem,t.order_id=e.creative.ids.order,t.pageLoad_to_in_viewport=e.report.inViewport,t.pageLoad_to_requested=e.report.requested,t.pageLoad_to_rendered=e.report.rendered,t.rendered_size=e.creative.renderedSize,t.request_to_rendered=e.report.rendered-e.report.requested,t.top_unit_id=e.creative.ids.topUnit,t.unit_id=e.creative.ids.unit,t},n.prototype.hideStage=function(e){e.classList.remove("cns-ads-slot-state-filled"),e.classList.add("cns-ads-slot-state-empty"),this.state.isHidden=!0,e.style.height=0,e.style.width=0,e.style.padding=0,e.style.margin=0},n.prototype.showStage=function(e){e.classList.remove("cns-ads-slot-state-empty"),e.classList.add("cns-ads-slot-state-filled"),this.state.isHidden=!1,e.style.removeProperty("height"),e.style.removeProperty("width"),e.style.removeProperty("margin"),e.style.removeProperty("padding")},n.prototype.logState=function(){var e=this.state;if(this.state.GET.CNS_ADS_debug){if(console.log(""),console.log(""),console.log(""),console.log("--------------------------------------------"),console.log("| SLOT "),console.log("| name : "+e.name),console.log("| id : "+e.ids.container),console.log("| el : ",e.els.container),console.log("|"),console.log("| TARGETING"),a(e.slot_targeting,function(e,t){console.log("| "+t+" : "+e)}),console.log("|"),"_out_of_page"!==e.type){console.log("| SIZES");var t=e.definition.sizes[e.environment.device],n="";a(t,function(e,r){var o=r<t.length?", ":"";n+=e+o}),console.log("| "+n),console.log("|")}console.log("| RENDER"),console.log("| using the '"+e.definition.render.slot.method+"' method @ '",e.definition.render.slot.el),console.log("|"),console.log("--------------------------------------------")}},n.prototype.getId=function(){return this.state.id},n.prototype.getSuffix=function(){return this.state.definition.suffix},n.prototype.getMeta=function(){return this.state.meta},n.prototype.destroy=function(){var e=this.state,t=e.id;this.removeStageEl(),this.removeEventListeners(),e.onDestroy(t)},n.prototype.removeStageEl=function(){var e=this.state.els.stage,t=e.parentNode;t.removeChild(e)},n.prototype.removeEventListeners=function(){var e=this.state.els.container,t=this.userEvent,n=this.userOverAd;window.removeEventListener("scroll",t,!0),window.removeEventListener("mousemove",t,!0),e.removeEventListener("mouseenter",n,!0),e.removeEventListener("touchstart",n,!0),e.removeEventListener("mouseout",this.userOffAd,!0),e.removeEventListener("touchend",this.userOffAd,!0)},n.prototype.refresh=function(){this.checkRequestability(!0)},n.prototype.getType=function(){return this.state.type},n.prototype.getName=function(){return this.state.name},n.prototype.getGroups=function(){return this.state.definition.groups},t.exports=n},{"../dom":3,"../lang":5,"../reporting":9,"@condenast/atp-utl/animations":16,"@condenast/atp-utl/dom/iframe":19,"@condenast/atp-utl/feature":20,"@condenast/atp-utl/functions":21,"@condenast/atp-utl/loop":22,"@condenast/atp-utl/objects/merge":73,"@condenast/atp-utl/parse":76,"@condenast/atp-utl/strings/slugify":77,"@condenast/atp-utl/type/isNumber":90,"@condenast/atp-utl/type/isString":93}],12:[function(e,t){"use strict";function n(e){var t=[],n=[];N||r(),W(e,function(e){var r=e.id,o=te.byTag[r];o?t.push(e):n.push(e)}),p(n),y(t)}function r(){return Y()?(ee.errors.error(X.haltPII()),void(U=!0)):void(N||(o(),i()))}function o(){window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],V=window.googletag;var e=document.createElement("script");e.async=!0,e.src="//www.googletagservices.com/tag/js/gpt.js",document.head.appendChild(e),N=!0}function i(){a(),c(),l(),d()}function a(){s(),window.moatCondeListener=D,u(function(){V.pubads().addEventListener("slotRenderEnded",k),V.pubads().addEventListener("impressionViewable",I),V.pubads().addEventListener("slotVisibilityChanged",q)})}function s(){H({path:"googletag.apiReady",poll:{limit:1500},onReady:function(){ee.ads.gpt()},onFailure:function(e){ee.errors.error(X.notReady(e.message))}})}function u(e){U||V.cmd.push(e)}function c(){u(function(){V.pubads().enableSingleRequest(),V.disablePublisherConsole(),V.enableServices()})}function l(){Z(M),setInterval(M,re)}function d(){var e=document.createElement("style"),t=document.createTextNode("");e.classList.add("cns-ads-iframe-styles"),e.appendChild(t),document.head.appendChild(e),e.sheet.insertRule('iframe[id^="google_ads_iframe"],div[id*="google_ads_iframe"] {margin: 0 auto;padding: 0;height: 0;width: 100%;min-width: 100%;}',e.sheet.cssRules.length)}function p(e){var t=[];W(e,function(e){t.push(f(e))}),Promise.all(t).then(y)}function f(e){return new Promise(function(t,n){u(function(){var r=g(e);return r?(r.addService(V.pubads()),m(e,r),void t(e)):void n(X.cantCreateSlot())})})}function g(e){var t=h(e.sizes),n=e.adUnitPath,r=e.id,o=e.out_of_page;return o?V.defineOutOfPageSlot(n,r):V.defineSlot(n,t,r)}function h(e){var t=[];return W(e,function(e){var n=e.split("x");n[0]=parseInt(n[0],10),n[1]=parseInt(n[1],10),t.push(n)}),t}function m(e,t){var n,r=te.byTag,o=te.byPageName;r[e.id]={tag:t,stage:e.stage,onIDCheck:e.onIDCheck,onRenderStart:e.onRenderStart,onRenderEnd:e.onRenderEnd,onImpressionViewable:e.onImpressionViewable,onVisibilityChange:e.onVisibilityChange,onMOATPresent:e.onMOATPresent,onMOATViewableEvent:e.onMOATViewableEvent,requestOptions:{id:e.id,forChildren:e.forChildren,page:e.page,isRefresh:!1}},o[e.page]||(o[e.page]={}),n=o[e.page],n[e.id]||(n[e.id]=r[e.id])}function y(e){v(e).then(j)["catch"](function(e){ee.errors.error(X.requestFailed(e))})}function v(e){return new Promise(function(t){W(e,function(e){var t=te.byTag[e.id],n=t.tag,r=e.pageTargeting,o=e.slotTargeting;x(r),b(n,o)}),t(e)})}function b(e,t){W(t,function(t,n){var r=_(n,t);r&&e.setTargeting(r.key,r.target)})}function _(e,t){var n={};return t&&"null"!==t||0===t?(n.key=Q(e,"_"),n.target=w(t),n.key.length>20&&ee.errors.error(X.keyExceedsCharLimit(n.key)),n):!1}function w(e){return J(e)?e:e.toString()}function x(e){W(e,function(e,t){var n=_(t,e);n&&u(function(){V.pubads().setTargeting(n.key,n.target)})})}function j(e){W(e,function(e){var t=e.id,n=te.byTag[t],r=n.requestOptions,o=r.page;ne[o]||(ne[o]=[]),S(t,o)||ne[o].push(r)})}function S(e,t){var n=!1,r=ne[t];return W(r,function(t){t.id===e&&(n=!0)}),n}function k(e){var t,n=e.slot.getSlotElementId(),r=C(n),o=e.creativeId,i=e.isEmpty,a='[id^="google_ads_iframe"]:not([id$="to_be_removed__"]):not([id$="hidden__"])',s=r.stage.querySelector("iframe"+a),u=r.stage.querySelector("div"+a),c=A(s);i?(c.isEmpty=!0,c.dimensions={string:null}):(t=T(e.size),c.isEmpty=!1,c.isSized=E(t.string),c.dimensions=t,R(u,s,t)),O(r,o),P(r,s),r.onRenderStart(c)}function T(e){return{width:e[0],height:e[1],string:e[0]+"x"+e[1]}}function E(e){var t=["9x1","9x2","1x1"];return!G(t,e)}function A(e){var t=e.contentWindow,n=t.cns_ads_meta||t.cns_ads&&t.cns_ads.meta||{};return n}function O(e,t){e.requestOptions.isRefresh||(e.requestOptions.isRefresh=!0),e.creativeId=t}function P(e,t){Z(function(){if(K(t)){var n=t.contentWindow,r=n.document,o=!!r.querySelector('[src*="moatads.com"]');o&&e.onMOATPresent()}})}function R(e,t,n){var r,o;E(n.string)&&(r=n.width,o=n.height,e.style.height=o+"px",e.style.width=r+"px",e.style.minWidth=r+"px",t.style.height=o+"px",t.style.width=r+"px",t.style.minWidth=r+"px")}function C(e){return te.byTag[e]}function I(e){var t=e.slot.getSlotElementId(),n=C(t);n&&B(n.onImpressionViewable)&&n.onImpressionViewable(e)}function q(e){var t=e.slot.getSlotElementId(),n=C(t);n&&B(n.onVisibilityChange)&&n.onVisibilityChange(e)}function D(e){var t=parseInt(e.adIds[3],10),n=te.byTag;W(n,function(n){n.creativeId===t&&n.onMOATViewableEvent(e)})}function M(){u(function(){var e=$(ne);ne={},W(e,function(e,t){var n=0,r=[],o=[];z(t),W(e,function(e){var t=e.id;e.forChildren&&(n=1),e.isRefresh?o.push(te.byTag[t].tag):r.push(t)}),V.pubads().setTagForChildDirectedTreatment(n),o.length>0&&V.pubads().refresh(o),W(r,function(e){V.display(e)})})})}function z(e){var t={advertisers:[],creatives:[],lines:[]},n=te.byPageName[e];W(n,function(e){var n=e.onIDCheck();n&&n.advertiserId&&!G(t.advertisers,n.advertiserId)&&t.advertisers.push(n.advertiserId),n&&n.creativeId&&!G(t.creatives,n.creativeId)&&t.creatives.push(n.creativeId),n&&n.lineItem&&!G(t.lines,n.lineItem)&&t.lines.push(n.lineItem)}),u(function(){V.pubads().setTargeting("ctx_advertisers",t.advertisers),V.pubads().setTargeting("ctx_creatives",t.creatives),V.pubads().setTargeting("ctx_line_items",t.lines)})}function F(e){return new Promise(function(t,n){u(function(){var r=te.byTag[e],o=r.id,i=r.tag,a=V.destroySlots([i]);return a?(L(e),void t()):void n(X.cantDestroySlot(o))})})}function L(e){var t=te.byTag[e].requestOptions.page;te.byTag[e]=null,delete te.byTag[e],te.byPageName[t][e]=null,delete te.byPageName[t][e]}var V,N,U,H=e("@condenast/atp-utl/objects/ready"),$=e("@condenast/atp-utl/objects/clone"),B=e("@condenast/atp-utl/type/isFunction"),W=e("@condenast/atp-utl/loop"),G=e("@condenast/atp-utl/arrays/has"),Q=e("@condenast/atp-utl/strings/slugify"),J=e("@condenast/atp-utl/type/isArray"),K=e("@condenast/atp-utl/dom/iframe").isFriendly,Y=e("./helpers/hasPII.js"),Z=e("@condenast/atp-utl/functions").bump,X=e("../lang").err.slots.gpt,ee=e("../reporting"),te={byTag:{},byPageName:{}},ne={},re=200;t.exports={request:n,destroySlot:F}},{"../lang":5,"../reporting":9,"./helpers/hasPII.js":13,"@condenast/atp-utl/arrays/has":17,"@condenast/atp-utl/dom/iframe":19,"@condenast/atp-utl/functions":21,"@condenast/atp-utl/loop":22,"@condenast/atp-utl/objects/clone":71,"@condenast/atp-utl/objects/ready":75,"@condenast/atp-utl/strings/slugify":77,"@condenast/atp-utl/type/isArray":78,"@condenast/atp-utl/type/isFunction":85}],13:[function(e,t){"use strict";function n(e){var t=e.match(/([a-zA-Z0-9._-]+@[a-zA-Z0-9._-]+\.[a-zA-Z0-9._-]+)/gi);return null!==t&&t.length?!0:!1}function r(e){var t=e.match(/^3(?:[47]\d([ -]?)\d{4}(?:\1\d{4}){2}|0[0-5]\d{11}|[68]\d{12})$|^4(?:\d\d\d)?([ -]?)\d{4}(?:\2\d{4}){2}$|^6011([ -]?)\d{4}(?:\3\d{4}){2}$|^5[1-5]\d\d([ -]?)\d{4}(?:\4\d{4}){2}$|^2014\d{11}$|^2149\d{11}$|^2131\d{11}$|^1800\d{11}$|^3\d{15}$/);return null!==t&&t.length?!0:!1}function o(e){var t=e.match(/((\d|([a-f]|[A-F])){2}:){5}(\d|([a-f]|[A-F])){2}/);return null!==t&&t.length?!0:!1}function i(e){var t=e.match(/((0|1[0-9]{0,2}|2[0-9]?|2[0-4][0-9]|25[0-5]|[3-9][0-9]?)\.){3}(0|1[0-9]{0,2}|2[0-9]?|2[0-4][0-9]|25[0-5]|[3-9][0-9]?)/);return null!==t&&t.length?!0:!1}function a(){var e,t=s();return document.location.search?(u(t,function(t){t&&(n(t)||r(t)||o(t)||i(t))&&(e=!0)}),e):!1}var s=e("@condenast/atp-utl/parse"),u=e("@condenast/atp-utl/loop");t.exports=a},{"@condenast/atp-utl/loop":22,"@condenast/atp-utl/parse":76}],14:[function(e,t){"use strict";function n(e){A=P(K,e),O=!0,r()}function r(){var e=document.createElement("style");e.appendChild(document.createTextNode("")),document.head.appendChild(e),e.sheet.insertRule(".cns-ads-stage {margin: 0 auto;padding: 0;width: 100%;}",0)}function o(e){if(!O)return!1;var t=[];return C(e.slotList,function(n){var r=i({NoD:n,page:e.page,environment:e.environment,onSlotRender:e.onSlotRender,contentURI:e.contentURI});t=t.concat(r)}),t}function i(e){var t=a({NoD:e.NoD,page:e.page,environment:e.environment});if(!t.instances)return!1;var n=[];return C(t.instances,function(r){Y[t.type]="undefined"!=typeof Y[t.type]?Y[t.type]+1:0;var o=h({name:t.type+"_"+Y[t.type],type:t.type,environment:e.environment,sizes:r.sizes&&r.sizes[e.environment.device],page:e.page,definition:r,contentURI:e.contentURI,onRenderStart:e.onSlotRender});o&&n.push(o)}),n}function a(e){var t=s({type:e.NoD,page:e.page.slug,template:e.page.templateType}),n=u(t,e.page,e.environment);return{type:t.type,instances:n}}function s(e){if(!O)return!1;var t=I(e.type),n=t?e.type:A.definitions[e.type];if(!n)return Q.errors.warning($.definition.doesNotExist(e.type)),!1;var r=t?n:n[e.page]||n[e.template]||n.__default,o=R(r,!0);return o.type=o.type||e.type,o.customized=t,o}function u(e,t,n){var r=t.el||"html",o=document.querySelector(r),i=e.render,a=[];if(!i)return Q.errors.warning($.definition.hasNoRender(e.type,t.templateType)),a;var s=c(e,n.device);return C(s,function(n,i){if(!z(n)&&!L(n)){var s,u=I(n)&&!M(n)&&!F(n);s=u?d:l;var c=s({definition:e,pageEl:o,type:i,rules:n});c&&c.length||Q.errors.warning($.definition.hasBadEl(e.type,t.templateType,r)),C(c,function(e){a.push(e)})}}),a}function c(e,t){var n=e.render.slot,r=e.render[t]&&e.render[t].slot;return n||r}function l(e){function t(e){o.push(r(e))}var n=D(e.rules)?e.pageEl.querySelectorAll(e.rules):e.rules;if(!n||!D(e.rules)&&!M(e.rules)&&!F(e.rules))return!1;var r=g.bind(null,e.definition,X[e.type]),o=[];return n.length?C(n,t):o.push(r(n)),o}function d(e){var t=H.getAll(e.rules.el,e.rules["in"].el),n=g.bind(null,e.definition,X[e.type]),r=e.rules&&e.rules.when&&q(e.rules.when),o=e.rules["in"]&&e.rules["in"].when&&q(e.rules["in"].when),i=H.get(e.rules["in"].el),a=!o&&i||o&&i&&e.rules["in"].when(i),s=0,u=0;if(!a)return[];var c=1,l=[],d=!1;return C(t,function(o,i){var a=p(t.length,i),g=f(o);a.wordCount=g.split(" ").length,a.characterCount=g.split("").length,s+=a.wordCount,a.accumulatedWordCount=s,u+=a.characterCount,a.accumulatedCharacterCount=u;var h=!r||r&&e.rules.when(o,a),m=c>=e.rules.every;return m&&h||!m&&d?(l.push(n(o)),c=1,void(d=!1)):(m&&!h&&(d=!0),void(c+=1))}),l}function p(e,t){return{index:t,isOdd:!!(t%2),isEven:!(t%2),isFirst:0===t?!0:!1,isLast:t===e-1?!0:!1}}function f(e){var t="";return C(e.childNodes,function(e){8!==e.nodeType&&(t+=1!==e.nodeType?e.nodeValue:f(e))}),t}function g(e,t,n){var r=R(e,!0);return r.render.slot={el:n,method:t},r}function h(e){if(!O)return!1;var t,n=e.contentURI,r=e.definition.suffix,o=P(e,{refreshDelay:A.refreshDelay,network:A.network,identifiers:A.identifiers,onStaged:A.onCreate,onDestroy:j,onRequest:_,onPluginHook:A.onRequest,onRenderStart:m.bind(null,e.onRenderStart),onRenderEnd:A.onRenderEnd,onImpressionViewable:A.onImpressionViewable,onVisibilityChange:A.onVisibilityChange});return W(o)?(t=new B(o),J[t.state.id]=t,y(n,r),t):!1}function m(e,t){var n=t.meta.renderedSize,r=t.meta.domID,o=!!t.meta.isHidden,i=t.meta.container,a=t.meta.slotType,s={getCreativeType:function(){return"sized"},getContainerEl:function(){return i},getContainerId:function(){return r},getServerSize:function(){return n},getSlotType:function(){return a},isHidden:function(){return o}};A.onRenderStart(t),e(s)}function y(e,t){var n,r=t&&Z[t],o=Z["default"];r&&o||(n=v(e,t),t?Z[t]=n:Z["default"]=n)}function v(e,t){var n=e?"/"+b(e):"",r=A.identifiers,o=r.human_slug,i=r.overwrite,a=i||o,s=t?o+"."+N(t):a;return A.network+"/"+s+n}function b(e){var t=e.split("/");return C(t,function(e,n){t[n]=N(e)}),t.join("/")}function _(e){var t=J[e],n=t.state,r=n.definition.link,o=n.request.inProgress;r?w(r):o||t.prepareForRequest().then(function(){G.request([x(t)])})["catch"](function(e){var t=$.singleRequestFailed(n.name,e);console.error(t)})}function w(e){var t=[];C(J,function(n){var r=n.state.definition.link,o=n.state.request.inProgress;r!==e||o||t.push(n.prepareForRequest().then(function(){return x(n)}))}),Promise.all(t).then(function(e){G.request(e)})["catch"](function(t){var n=$.linkedRequestFailed(e,t);console.error(n)})}function x(e){var t=e.getSuffix(),n=e.getRequestData(),r=t?Z[t]:Z["default"];return n.onRenderStart=e.onRenderStart.bind(e),n.onImpressionViewable=e.onImpressionViewable.bind(e),n.onVisibilityChange=e.onVisibilityChange.bind(e),n.onMOATViewableEvent=e.onMOATViewable.bind(e),n.onMOATPresent=e.onMOATPresent.bind(e),n.onIDCheck=e.onIDCheck.bind(e),n.adUnitPath=r,n}function j(e){G.destroySlot(e).then(function(){S(e)})["catch"](function(e){Q.errors.warning($.definition.slotDestroyFailed(e))})}function S(e){J[e]=null,delete J[e]}function k(e){return O?J[e]:!1}function T(){return O?void C(J,function(e,t){e.destroy(),J[t]=null,delete J[t]}):!1}function E(e){if(!O)return!1;var t=s({type:e.type,page:e.page,template:e.template});return V({mergeables:[t,e.overwrites],merger:U})}var A,O,P=e("@condenast/atp-utl/objects/options"),R=e("@condenast/atp-utl/objects/clone"),C=e("@condenast/atp-utl/loop"),I=e("@condenast/atp-utl/type/isObject"),q=e("@condenast/atp-utl/type/isFunction"),D=e("@condenast/atp-utl/type/isString"),M=e("@condenast/atp-utl/type/isElement"),z=e("@condenast/atp-utl/type/isWindowObject"),F=e("@condenast/atp-utl/type/isDOMElementCollection"),L=e("@condenast/atp-utl/type/isDocumentObject"),V=e("@condenast/atp-utl/objects/merge"),N=e("@condenast/atp-utl/strings/slugify"),U=e("../configs/merge"),H=e("../dom"),$=e("../lang").err.slots,B=e("./Slot"),W=e("./validateSlot.js"),G=e("./gpt.js"),Q=e("../reporting"),J={},K={},Y={},Z={},X={top:"prepend",bottom:"append",below:"after",after:"after",before:"before",above:"before"};t.exports={setup:n,api:{get:k,getTypeDefinition:s,create:h,modifySlotType:E,destroy:T,batch:{create:o}}}},{"../configs/merge":2,"../dom":3,"../lang":5,"../reporting":9,"./Slot":11,"./gpt.js":12,"./validateSlot.js":15,"@condenast/atp-utl/loop":22,"@condenast/atp-utl/objects/clone":71,"@condenast/atp-utl/objects/merge":73,"@condenast/atp-utl/objects/options":74,"@condenast/atp-utl/strings/slugify":77,"@condenast/atp-utl/type/isDOMElementCollection":81,"@condenast/atp-utl/type/isDocumentObject":83,"@condenast/atp-utl/type/isElement":84,"@condenast/atp-utl/type/isFunction":85,"@condenast/atp-utl/type/isObject":91,"@condenast/atp-utl/type/isString":93,"@condenast/atp-utl/type/isWindowObject":94}],15:[function(e,t){"use strict";function n(e){return r(e)&&o(e)&&i(e)&&a(e)&&s(e)}function r(e){if(!e.name)return d.errors.warning(u.missingProperty("undefined","name")),!1;var t=e.name;return e.environment?e.environment.device?e.definition?e.definition.sizes||"_out_of_page"===e.type?e.identifiers?e.network?e.definition.render&&e.definition.render.slot&&e.definition.render.slot.el?!0:(d.errors.warning(u.missingProperty(t,"definition.render.slot.el")),!1):(d.errors.warning(u.missingProperty(t,"network")),!1):(d.errors.warning(u.missingProperty(t,"identifiers")),!1):(d.errors.warning(u.missingProperty(t,"definition.sizes")),!1):(d.errors.warning(u.missingProperty(t,"definition")),!1):(d.errors.warning(u.missingProperty(t,"environment.device")),!1):(d.errors.warning(u.missingProperty(t,"environment")),!1)}function o(e){if("_out_of_page"===e.type)return!0;var t=e.environment.device,n=e.definition.sizes&&e.definition.sizes[t];return n&&n.length?!0:(d.errors.warning(u.definition.noAppropriateSizes(e.name,t)),!1)}function i(e){return c(e.identifiers)?!0:(d.errors.warning(u.invalidIdentifiers(e.name)),!1)}function a(e){return l(e.network)?!0:(d.errors.warning(u.invalidNetwork(e.name)),!1)}function s(e){var t=e.definition.render.slot.el;return t.tagName&&"HTML"!==t.tagName?!0:(d.errors.warning(u.definition.invalidSlotEl(e.name)),!1)}var u=e("../lang").err.slots,c=e("@condenast/atp-utl/type/isObject"),l=e("@condenast/atp-utl/type/isNumber"),d=e("../reporting");t.exports=n},{"../lang":5,"../reporting":9,"@condenast/atp-utl/type/isNumber":90,"@condenast/atp-utl/type/isObject":91}],16:[function(e,t){"use strict";function n(e,t){function n(){if(!l){var t,r=Date.now(),o=r-s;o>c&&(t=o%c,s=r-t,e())}d||(a=window.requestAnimationFrame(n))}function r(){d=!0,window.cancelAnimationFrame(a)}function o(){l=!0}function i(){l=!1}var a,s=Date.now(),u=t||60,c=1e3/u,l=!1,d=!1;return n(),{kill:r,pause:o,resume:i}}t.exports=n},{}],17:[function(e,t){"use strict";function n(e,t){if(!Array.isArray(e))throw new Error("Array.has() can only accept an array as a first argument.");return-1!==e.indexOf(t)?!0:!1}t.exports=n},{}],18:[function(e,t){"use strict";function n(e,t){var n="Array.merge() can only accept an array of arrays as a first argument";if(!i(e))throw new Error(n);return o(e,function(t,n){void 0!==t&&i(t)||(e[n]=[])}),t?r.apply(null,e):Array.prototype.concat.apply([],e)}var r=e("lodash.union"),o=e("../../loop"),i=e("../../type/isArray");t.exports=n},{"../../loop":22,"../../type/isArray":78,"lodash.union":61}],19:[function(e,t){"use strict";function n(e){var t=null;try{var n=e.contentDocument||e.contentWindow.document;t=n.body.innerHTML}catch(r){}return null!==t}t.exports={isFriendly:n}},{}],20:[function(e,t){"use strict";function n(){try{return window.localStorage.setItem("testKey","1"),window.localStorage.removeItem("testKey"),!0}catch(e){return!1}}function r(){return!!(window&&window.performance&&window.performance.getEntries)}function o(e){var t=e||window,n=t.performance,r=n&&n.now&&n.now(),o=!r&&n&&t.performance.timing,i=o&&t.performance.timing.navigationStart,a=i&&Date.now()-i;return r||i&&a||null}t.exports={isStorageEnabled:n,isGetEntriesEnabled:r,performance:{now:o}}},{}],21:[function(e,t){"use strict";function n(e){throw new Error(e)}function r(e){var t=i(e.func);if(!t)return e.func;var n=e.func(e.payload),r=n instanceof Promise;if(r&&!e.timeout)return n;if(r&&e.timeout){var o=new Promise(function(t){setTimeout(t,e.timeout,{timedOut:!0})});return Promise.race([n,o]).then(function(t){return t&&t.timedOut&&i(e.onTimeout)?e.onTimeout():t})}return Promise.resolve(n)}function o(e){setTimeout(e,0)}var i=e("../type/isFunction");t.exports={error:n,noop:function(){},callbackHandler:r,bump:o}},{"../type/isFunction":85}],22:[function(e,t){"use strict";function n(e,t){function n(){for(var n=0;e>n;n++)t(n)}var o="object"==typeof e,i="number"==typeof e&&e%1===0,a="function"==typeof t;if(!o&&!i)return!1;if(!a)throw new Error("Loop() must be passed a callback function as a second argument");return i?n():r(e,t)}var r=e("lodash.map");t.exports=n},{"lodash.map":37}],23:[function(e,t){function n(e,t,n,a){return t&&"boolean"!=typeof t&&i(e,t,n)?t=!1:"function"==typeof t&&(a=n,n=t,t=!1),"function"==typeof n?r(e,t,o(n,a,3)):r(e,t)}var r=e("lodash._baseclone"),o=e("lodash._bindcallback"),i=e("lodash._isiterateecall");t.exports=n},{"lodash._baseclone":24,"lodash._bindcallback":31,"lodash._isiterateecall":32}],24:[function(e,t){(function(n){function r(e,t,n,i,f,h,y){var v;if(n&&(v=f?n(e,i,f):n(e)),void 0!==v)return v;if(!c(e))return e;var b=g(e);if(b){if(v=a(e),!t)return l(e,v)}else{var _=H.call(e),x=_==w;if(_!=S&&_!=m&&(!x||f))return V[_]?u(e,_,t):f?e:{};if(v=s(x?{}:e),!t)return p(v,e)}h||(h=[]),y||(y=[]);for(var j=h.length;j--;)if(h[j]==e)return y[j];return h.push(e),y.push(v),(b?d:o)(e,function(o,i){v[i]=r(o,t,n,i,e,h,y)}),v}function o(e,t){return f(e,t,h)}function i(e){var t=new $(e.byteLength),n=new B(t);return n.set(new B(e)),t}function a(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&U.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function s(e){var t=e.constructor;return"function"==typeof t&&t instanceof t||(t=Object),new t}function u(e,t,n){var r=e.constructor;switch(t){case O:return i(e);case v:case b:return new r(+e);case P:case R:case C:case I:case q:case D:case M:case z:case F:var o=e.buffer;return new r(n?i(o):o,e.byteOffset,e.length);case j:case E:return new r(e);case k:var a=new r(e.source,L.exec(e));a.lastIndex=e.lastIndex}return a}function c(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}var l=e("lodash._arraycopy"),d=e("lodash._arrayeach"),p=e("lodash._baseassign"),f=e("lodash._basefor"),g=e("lodash.isarray"),h=e("lodash.keys"),m="[object Arguments]",y="[object Array]",v="[object Boolean]",b="[object Date]",_="[object Error]",w="[object Function]",x="[object Map]",j="[object Number]",S="[object Object]",k="[object RegExp]",T="[object Set]",E="[object String]",A="[object WeakMap]",O="[object ArrayBuffer]",P="[object Float32Array]",R="[object Float64Array]",C="[object Int8Array]",I="[object Int16Array]",q="[object Int32Array]",D="[object Uint8Array]",M="[object Uint8ClampedArray]",z="[object Uint16Array]",F="[object Uint32Array]",L=/\w*$/,V={};

V[m]=V[y]=V[O]=V[v]=V[b]=V[P]=V[R]=V[C]=V[I]=V[q]=V[j]=V[S]=V[k]=V[E]=V[D]=V[M]=V[z]=V[F]=!0,V[_]=V[w]=V[x]=V[T]=V[A]=!1;var N=Object.prototype,U=N.hasOwnProperty,H=N.toString,$=n.ArrayBuffer,B=n.Uint8Array;t.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"lodash._arraycopy":25,"lodash._arrayeach":26,"lodash._baseassign":27,"lodash._basefor":29,"lodash.isarray":30,"lodash.keys":33}],25:[function(e,t){function n(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}t.exports=n},{}],26:[function(e,t){function n(e,t){for(var n=-1,r=e.length;++n<r&&t(e[n],n,e)!==!1;);return e}t.exports=n},{}],27:[function(e,t){function n(e,t){return null==t?e:r(t,o(t),e)}var r=e("lodash._basecopy"),o=e("lodash.keys");t.exports=n},{"lodash._basecopy":28,"lodash.keys":33}],28:[function(e,t){function n(e,t,n){n||(n={});for(var r=-1,o=t.length;++r<o;){var i=t[r];n[i]=e[i]}return n}t.exports=n},{}],29:[function(e,t){function n(e){return function(t,n,r){for(var o=-1,i=Object(t),a=r(t),s=a.length;s--;){var u=a[e?s:++o];if(n(i[u],u,i)===!1)break}return t}}var r=n();t.exports=r},{}],30:[function(e,t){function n(e){return!!e&&"object"==typeof e}function r(e,t){var n=null==e?void 0:e[t];return s(n)?n:void 0}function o(e){return"number"==typeof e&&e>-1&&e%1==0&&y>=e}function i(e){return a(e)&&g.call(e)==c}function a(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function s(e){return null==e?!1:i(e)?h.test(p.call(e)):n(e)&&l.test(e)}var u="[object Array]",c="[object Function]",l=/^\[object .+?Constructor\]$/,d=Object.prototype,p=Function.prototype.toString,f=d.hasOwnProperty,g=d.toString,h=RegExp("^"+p.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),m=r(Array,"isArray"),y=9007199254740991,v=m||function(e){return n(e)&&o(e.length)&&g.call(e)==u};t.exports=v},{}],31:[function(e,t){function n(e,t,n){if("function"!=typeof e)return r;if(void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,r,o){return e.call(t,n,r,o)};case 4:return function(n,r,o,i){return e.call(t,n,r,o,i)};case 5:return function(n,r,o,i,a){return e.call(t,n,r,o,i,a)}}return function(){return e.apply(t,arguments)}}function r(e){return e}t.exports=n},{}],32:[function(e,t){function n(e){return function(t){return null==t?void 0:t[e]}}function r(e){return null!=e&&a(l(e))}function o(e,t){return e="number"==typeof e||u.test(e)?+e:-1,t=null==t?c:t,e>-1&&e%1==0&&t>e}function i(e,t,n){if(!s(n))return!1;var i=typeof t;if("number"==i?r(n)&&o(t,n.length):"string"==i&&t in n){var a=n[t];return e===e?e===a:a!==a}return!1}function a(e){return"number"==typeof e&&e>-1&&e%1==0&&c>=e}function s(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}var u=/^\d+$/,c=9007199254740991,l=n("length");t.exports=i},{}],33:[function(e,t){function n(e){return function(t){return null==t?void 0:t[e]}}function r(e){return null!=e&&i(y(e))}function o(e,t){return e="number"==typeof e||p.test(e)?+e:-1,t=null==t?m:t,e>-1&&e%1==0&&t>e}function i(e){return"number"==typeof e&&e>-1&&e%1==0&&m>=e}function a(e){for(var t=u(e),n=t.length,r=n&&e.length,a=!!r&&i(r)&&(d(e)||l(e)),s=-1,c=[];++s<n;){var p=t[s];(a&&o(p,r)||g.call(e,p))&&c.push(p)}return c}function s(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function u(e){if(null==e)return[];s(e)||(e=Object(e));var t=e.length;t=t&&i(t)&&(d(e)||l(e))&&t||0;for(var n=e.constructor,r=-1,a="function"==typeof n&&n.prototype===e,u=Array(t),c=t>0;++r<t;)u[r]=r+"";for(var p in e)c&&o(p,t)||"constructor"==p&&(a||!g.call(e,p))||u.push(p);return u}var c=e("lodash._getnative"),l=e("lodash.isarguments"),d=e("lodash.isarray"),p=/^\d+$/,f=Object.prototype,g=f.hasOwnProperty,h=c(Object,"keys"),m=9007199254740991,y=n("length"),v=h?function(e){var t=null==e?void 0:e.constructor;return"function"==typeof t&&t.prototype===e||"function"!=typeof e&&r(e)?a(e):s(e)?h(e):[]}:a;t.exports=v},{"lodash._getnative":34,"lodash.isarguments":35,"lodash.isarray":36}],34:[function(e,t){function n(e){return!!e&&"object"==typeof e}function r(e,t){var n=null==e?void 0:e[t];return a(n)?n:void 0}function o(e){return i(e)&&p.call(e)==s}function i(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function a(e){return null==e?!1:o(e)?f.test(l.call(e)):n(e)&&u.test(e)}var s="[object Function]",u=/^\[object .+?Constructor\]$/,c=Object.prototype,l=Function.prototype.toString,d=c.hasOwnProperty,p=c.toString,f=RegExp("^"+l.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=r},{}],35:[function(e,t){function n(e){return function(t){return null==t?void 0:t[e]}}function r(e){return i(e)&&h.call(e,"callee")&&(!y.call(e,"callee")||m.call(e)==d)}function o(e){return null!=e&&s(v(e))&&!a(e)}function i(e){return c(e)&&o(e)}function a(e){var t=u(e)?m.call(e):"";return t==p||t==f}function s(e){return"number"==typeof e&&e>-1&&e%1==0&&l>=e}function u(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function c(e){return!!e&&"object"==typeof e}var l=9007199254740991,d="[object Arguments]",p="[object Function]",f="[object GeneratorFunction]",g=Object.prototype,h=g.hasOwnProperty,m=g.toString,y=g.propertyIsEnumerable,v=n("length");t.exports=r},{}],36:[function(e,t,n){arguments[4][30][0].apply(n,arguments)},{dup:30}],37:[function(e,t){function n(e,t){var n=-1,r=o(e)?Array(e.length):[];return c(e,function(e,o,i){r[++n]=t(e,o,i)}),r}function r(e){return function(t){return null==t?void 0:t[e]}}function o(e){return null!=e&&i(p(e))}function i(e){return"number"==typeof e&&e>-1&&e%1==0&&d>=e}function a(e,t,r){var o=l(e)?s:n;return t=u(t,r,3),o(e,t)}var s=e("lodash._arraymap"),u=e("lodash._basecallback"),c=e("lodash._baseeach"),l=e("lodash.isarray"),d=9007199254740991,p=r("length");t.exports=a},{"lodash._arraymap":38,"lodash._basecallback":39,"lodash._baseeach":44,"lodash.isarray":45}],38:[function(e,t){function n(e,t){for(var n=-1,r=e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}t.exports=n},{}],39:[function(e,t){function n(e){return null==e?"":e+""}function r(e,t,n){var r=typeof e;return"function"==r?void 0===t?e:w(e,t,n):null==e?v:"object"==r?a(e):void 0===t?b(e):s(e,t)}function o(e,t,n){if(null!=e){void 0!==n&&n in g(e)&&(t=[n]);for(var r=0,o=t.length;null!=e&&o>r;)e=e[t[r++]];return r&&r==o?e:void 0}}function i(e,t,n){var r=t.length,o=r,i=!n;if(null==e)return!o;for(e=g(e);r--;){var a=t[r];if(i&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++r<o;){a=t[r];var s=a[0],u=e[s],c=a[1];if(i&&a[2]){if(void 0===u&&!(s in e))return!1}else{var l=n?n(u,c,s):void 0;if(!(void 0===l?_(c,u,n,!0):l))return!1}}return!0}function a(e){var t=d(e);if(1==t.length&&t[0][2]){var n=t[0][0],r=t[0][1];return function(e){return null==e?!1:e[n]===r&&(void 0!==r||n in g(e))}}return function(e){return i(e,t)}}function s(e,t){var n=x(e),r=p(e)&&f(t),i=e+"";return e=h(e),function(a){if(null==a)return!1;var s=i;if(a=g(a),!(!n&&r||s in a)){if(a=1==e.length?a:o(a,l(e,0,-1)),null==a)return!1;s=m(e),a=g(a)}return a[s]===t?void 0!==t||s in a:_(t,a[s],void 0,!0)}}function u(e){return function(t){return null==t?void 0:t[e]}}function c(e){var t=e+"";return e=h(e),function(n){return o(n,e,t)}}function l(e,t,n){var r=-1,o=e.length;t=null==t?0:+t||0,0>t&&(t=-t>o?0:o+t),n=void 0===n||n>o?o:+n||0,0>n&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(o);++r<o;)i[r]=e[r+t];return i}function d(e){for(var t=j(e),n=t.length;n--;)t[n][2]=f(t[n][1]);return t}function p(e,t){var n=typeof e;if("string"==n&&k.test(e)||"number"==n)return!0;if(x(e))return!1;var r=!S.test(e);return r||null!=t&&e in g(t)}function f(e){return e===e&&!y(e)}function g(e){return y(e)?e:Object(e)}function h(e){if(x(e))return e;var t=[];return n(e).replace(T,function(e,n,r,o){t.push(r?o.replace(E,"$1"):n||e)}),t}function m(e){var t=e?e.length:0;return t?e[t-1]:void 0}function y(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function v(e){return e}function b(e){return p(e)?u(e):c(e)}var _=e("lodash._baseisequal"),w=e("lodash._bindcallback"),x=e("lodash.isarray"),j=e("lodash.pairs"),S=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,k=/^\w*$/,T=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,E=/\\(\\)?/g;t.exports=r},{"lodash._baseisequal":40,"lodash._bindcallback":42,"lodash.isarray":45,"lodash.pairs":43}],40:[function(e,t){function n(e){return!!e&&"object"==typeof e}function r(e,t){for(var n=-1,r=e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function o(e,t,r,a,s,u){return e===t?!0:null==e||null==t||!c(e)&&!n(t)?e!==e&&t!==t:i(e,t,o,r,a,s,u)}function i(e,t,n,r,o,i,c){var p=l(e),h=l(t),m=g,y=g;p||(m=S.call(e),m==f?m=b:m!=b&&(p=d(e))),h||(y=S.call(t),y==f?y=b:y!=b&&(h=d(t)));var v=m==b,_=y==b,w=m==y;if(w&&!p&&!v)return s(e,t,m);if(!o){var x=v&&j.call(e,"__wrapped__"),k=_&&j.call(t,"__wrapped__");if(x||k)return n(x?e.value():e,k?t.value():t,r,o,i,c)}if(!w)return!1;i||(i=[]),c||(c=[]);for(var T=i.length;T--;)if(i[T]==e)return c[T]==t;i.push(e),c.push(t);var E=(p?a:u)(e,t,n,r,o,i,c);return i.pop(),c.pop(),E}function a(e,t,n,o,i,a,s){var u=-1,c=e.length,l=t.length;if(c!=l&&!(i&&l>c))return!1;for(;++u<c;){var d=e[u],p=t[u],f=o?o(i?p:d,i?d:p,u):void 0;if(void 0!==f){if(f)continue;return!1}if(i){if(!r(t,function(e){return d===e||n(d,e,o,i,a,s)}))return!1}else if(d!==p&&!n(d,p,o,i,a,s))return!1}return!0}function s(e,t,n){switch(n){case h:case m:return+e==+t;case y:return e.name==t.name&&e.message==t.message;case v:return e!=+e?t!=+t:e==+t;case _:case w:return e==t+""}return!1}function u(e,t,n,r,o,i,a){var s=p(e),u=s.length,c=p(t),l=c.length;if(u!=l&&!o)return!1;for(var d=u;d--;){var f=s[d];if(!(o?f in t:j.call(t,f)))return!1}for(var g=o;++d<u;){f=s[d];var h=e[f],m=t[f],y=r?r(o?m:h,o?h:m,f):void 0;if(!(void 0===y?n(h,m,r,o,i,a):y))return!1;g||(g="constructor"==f)}if(!g){var v=e.constructor,b=t.constructor;if(v!=b&&"constructor"in e&&"constructor"in t&&!("function"==typeof v&&v instanceof v&&"function"==typeof b&&b instanceof b))return!1}return!0}function c(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}var l=e("lodash.isarray"),d=e("lodash.istypedarray"),p=e("lodash.keys"),f="[object Arguments]",g="[object Array]",h="[object Boolean]",m="[object Date]",y="[object Error]",v="[object Number]",b="[object Object]",_="[object RegExp]",w="[object String]",x=Object.prototype,j=x.hasOwnProperty,S=x.toString;t.exports=o},{"lodash.isarray":45,"lodash.istypedarray":41,"lodash.keys":33}],41:[function(e,t){function n(e){return"number"==typeof e&&e>-1&&e%1==0&&i>=e}function r(e){return!!e&&"object"==typeof e}function o(e){return r(e)&&n(e.length)&&!!P[C.call(e)]}var i=9007199254740991,a="[object Arguments]",s="[object Array]",u="[object Boolean]",c="[object Date]",l="[object Error]",d="[object Function]",p="[object Map]",f="[object Number]",g="[object Object]",h="[object RegExp]",m="[object Set]",y="[object String]",v="[object WeakMap]",b="[object ArrayBuffer]",_="[object DataView]",w="[object Float32Array]",x="[object Float64Array]",j="[object Int8Array]",S="[object Int16Array]",k="[object Int32Array]",T="[object Uint8Array]",E="[object Uint8ClampedArray]",A="[object Uint16Array]",O="[object Uint32Array]",P={};P[w]=P[x]=P[j]=P[S]=P[k]=P[T]=P[E]=P[A]=P[O]=!0,P[a]=P[s]=P[b]=P[u]=P[_]=P[c]=P[l]=P[d]=P[p]=P[f]=P[g]=P[h]=P[m]=P[y]=P[v]=!1;var R=Object.prototype,C=R.toString;t.exports=o},{}],42:[function(e,t,n){arguments[4][31][0].apply(n,arguments)},{dup:31}],43:[function(e,t){function n(e){return r(e)?e:Object(e)}function r(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function o(e){e=n(e);for(var t=-1,r=i(e),o=r.length,a=Array(o);++t<o;){var s=r[t];a[t]=[s,e[s]]}return a}var i=e("lodash.keys");t.exports=o},{"lodash.keys":33}],44:[function(e,t){function n(e,t){return p(e,t,c)}function r(e){return function(t){return null==t?void 0:t[e]}}function o(e,t){return function(n,r){var o=n?f(n):0;if(!a(o))return e(n,r);for(var i=t?o:-1,u=s(n);(t?i--:++i<o)&&r(u[i],i,u)!==!1;);return n}}function i(e){return function(t,n,r){for(var o=s(t),i=r(t),a=i.length,u=e?a:-1;e?u--:++u<a;){var c=i[u];if(n(o[c],c,o)===!1)break}return t}}function a(e){return"number"==typeof e&&e>-1&&e%1==0&&l>=e}function s(e){return u(e)?e:Object(e)}function u(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}var c=e("lodash.keys"),l=9007199254740991,d=o(n),p=i(),f=r("length");t.exports=d},{"lodash.keys":33}],45:[function(e,t,n){arguments[4][30][0].apply(n,arguments)},{dup:30}],46:[function(e,t){function n(e){return!!e&&"object"==typeof e}function r(e,t,i,s,c){if(!u(e))return e;var d=a(t)&&(f(t)||h(t)),p=d?void 0:m(t);return l(p||t,function(a,u){if(p&&(u=a,a=t[u]),n(a))s||(s=[]),c||(c=[]),o(e,t,u,r,i,s,c);else{var l=e[u],f=i?i(l,a,u,e,t):void 0,g=void 0===f;g&&(f=a),void 0===f&&(!d||u in e)||!g&&(f===f?f===l:l!==l)||(e[u]=f)}}),e}function o(e,t,n,r,o,i,s){for(var u=i.length,l=t[n];u--;)if(i[u]==l)return void(e[n]=s[u]);var d=e[n],m=o?o(d,l,n,e,t):void 0,v=void 0===m;v&&(m=l,a(l)&&(f(l)||h(l))?m=f(d)?d:a(d)?c(d):[]:g(l)||p(l)?m=p(d)?y(d):g(d)?d:{}:v=!1),i.push(l),s.push(m),v?e[n]=r(m,l,o,i,s):(m===m?m!==d:d===d)&&(e[n]=m)}function i(e){return function(t){return null==t?void 0:t[e]}}function a(e){return null!=e&&s(b(e))}function s(e){return"number"==typeof e&&e>-1&&e%1==0&&v>=e}function u(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}var c=e("lodash._arraycopy"),l=e("lodash._arrayeach"),d=e("lodash._createassigner"),p=e("lodash.isarguments"),f=e("lodash.isarray"),g=e("lodash.isplainobject"),h=e("lodash.istypedarray"),m=e("lodash.keys"),y=e("lodash.toplainobject"),v=9007199254740991,b=i("length"),_=d(r);t.exports=_},{"lodash._arraycopy":47,"lodash._arrayeach":48,"lodash._createassigner":49,"lodash.isarguments":53,"lodash.isarray":54,"lodash.isplainobject":55,"lodash.istypedarray":57,"lodash.keys":33,"lodash.toplainobject":59}],47:[function(e,t,n){arguments[4][25][0].apply(n,arguments)},{dup:25}],48:[function(e,t,n){arguments[4][26][0].apply(n,arguments)},{dup:26}],49:[function(e,t){function n(e){return i(function(t,n){var i=-1,a=null==t?0:n.length,s=a>2?n[a-2]:void 0,u=a>2?n[2]:void 0,c=a>1?n[a-1]:void 0;for("function"==typeof s?(s=r(s,c,5),a-=2):(s="function"==typeof c?c:void 0,a-=s?1:0),u&&o(n[0],n[1],u)&&(s=3>a?void 0:s,a=1);++i<a;){var l=n[i];l&&e(t,l,s)}return t})}var r=e("lodash._bindcallback"),o=e("lodash._isiterateecall"),i=e("lodash.restparam");t.exports=n},{"lodash._bindcallback":50,"lodash._isiterateecall":51,"lodash.restparam":52}],50:[function(e,t,n){arguments[4][31][0].apply(n,arguments)},{dup:31}],51:[function(e,t,n){arguments[4][32][0].apply(n,arguments)},{dup:32}],52:[function(e,t){function n(e,t){if("function"!=typeof e)throw new TypeError(r);return t=o(void 0===t?e.length-1:+t||0,0),function(){for(var n=arguments,r=-1,i=o(n.length-t,0),a=Array(i);++r<i;)a[r]=n[t+r];switch(t){case 0:return e.call(this,a);case 1:return e.call(this,n[0],a);case 2:return e.call(this,n[0],n[1],a)}var s=Array(t+1);for(r=-1;++r<t;)s[r]=n[r];return s[t]=a,e.apply(this,s)}}var r="Expected a function",o=Math.max;t.exports=n},{}],53:[function(e,t,n){arguments[4][35][0].apply(n,arguments)},{dup:35}],54:[function(e,t,n){arguments[4][30][0].apply(n,arguments)},{dup:30}],55:[function(e,t){function n(e){return!!e&&"object"==typeof e}function r(e,t){return i(e,t,s)}function o(e){var t;if(!n(e)||d.call(e)!=u||a(e)||!l.call(e,"constructor")&&(t=e.constructor,"function"==typeof t&&!(t instanceof t)))return!1;var o;return r(e,function(e,t){o=t}),void 0===o||l.call(e,o)}var i=e("lodash._basefor"),a=e("lodash.isarguments"),s=e("lodash.keysin"),u="[object Object]",c=Object.prototype,l=c.hasOwnProperty,d=c.toString;t.exports=o},{"lodash._basefor":56,"lodash.isarguments":53,"lodash.keysin":58}],56:[function(e,t,n){arguments[4][29][0].apply(n,arguments)},{dup:29}],57:[function(e,t,n){arguments[4][41][0].apply(n,arguments)},{dup:41}],58:[function(e,t){function n(e,t){return e="number"==typeof e||u.test(e)?+e:-1,t=null==t?d:t,e>-1&&e%1==0&&t>e}function r(e){return"number"==typeof e&&e>-1&&e%1==0&&d>=e}function o(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function i(e){if(null==e)return[];o(e)||(e=Object(e));var t=e.length;t=t&&r(t)&&(s(e)||a(e))&&t||0;for(var i=e.constructor,u=-1,c="function"==typeof i&&i.prototype===e,d=Array(t),p=t>0;++u<t;)d[u]=u+"";for(var f in e)p&&n(f,t)||"constructor"==f&&(c||!l.call(e,f))||d.push(f);return d}var a=e("lodash.isarguments"),s=e("lodash.isarray"),u=/^\d+$/,c=Object.prototype,l=c.hasOwnProperty,d=9007199254740991;t.exports=i},{"lodash.isarguments":53,"lodash.isarray":54}],59:[function(e,t){function n(e){return r(e,o(e))}var r=e("lodash._basecopy"),o=e("lodash.keysin");t.exports=n},{"lodash._basecopy":60,"lodash.keysin":58}],60:[function(e,t,n){arguments[4][28][0].apply(n,arguments)},{dup:28}],61:[function(e,t){var n=e("lodash._baseflatten"),r=e("lodash._baseuniq"),o=e("lodash.restparam"),i=o(function(e){return r(n(e,!1,!0))});t.exports=i},{"lodash._baseflatten":62,"lodash._baseuniq":65,"lodash.restparam":70}],62:[function(e,t){function n(e){return!!e&&"object"==typeof e}function r(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}function o(e,t,i,s){s||(s=[]);for(var l=-1,d=e.length;++l<d;){var p=e[l];n(p)&&a(p)&&(i||c(p)||u(p))?t?o(p,t,i,s):r(s,p):i||(s[s.length]=p)}return s}function i(e){return function(t){return null==t?void 0:t[e]}}function a(e){return null!=e&&s(d(e))}function s(e){return"number"==typeof e&&e>-1&&e%1==0&&l>=e}var u=e("lodash.isarguments"),c=e("lodash.isarray"),l=9007199254740991,d=i("length");t.exports=o},{"lodash.isarguments":63,"lodash.isarray":64}],63:[function(e,t,n){arguments[4][35][0].apply(n,arguments)},{dup:35}],64:[function(e,t,n){arguments[4][30][0].apply(n,arguments)},{dup:30}],65:[function(e,t){function n(e,t){var n=-1,s=r,u=e.length,c=!0,l=c&&u>=a,d=l?i():null,p=[];d?(s=o,c=!1):(l=!1,d=t?[]:p);e:for(;++n<u;){var f=e[n],g=t?t(f,n,e):f;if(c&&f===f){for(var h=d.length;h--;)if(d[h]===g)continue e;t&&d.push(g),p.push(f)}else s(d,g,0)<0&&((t||l)&&d.push(g),p.push(f))}return p}var r=e("lodash._baseindexof"),o=e("lodash._cacheindexof"),i=e("lodash._createcache"),a=200;t.exports=n},{"lodash._baseindexof":66,"lodash._cacheindexof":67,"lodash._createcache":68}],66:[function(e,t){function n(e,t,n){if(t!==t)return r(e,n);for(var o=n-1,i=e.length;++o<i;)if(e[o]===t)return o;return-1}function r(e,t,n){for(var r=e.length,o=t+(n?0:-1);n?o--:++o<r;){var i=e[o];if(i!==i)return o}return-1}t.exports=n},{}],67:[function(e,t){function n(e,t){var n=e.data,o="string"==typeof t||r(t)?n.set.has(t):n.hash[t];return o?0:-1}function r(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}t.exports=n},{}],68:[function(e,t){(function(n){function r(e){var t=e?e.length:0;for(this.data={hash:c(null),set:new u};t--;)this.push(e[t])}function o(e){var t=this.data;"string"==typeof e||a(e)?t.set.add(e):t.hash[e]=!0}function i(e){return c&&u?new r(e):null}function a(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}var s=e("lodash._getnative"),u=s(n,"Set"),c=s(Object,"create");r.prototype.push=o,t.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"lodash._getnative":69}],69:[function(e,t,n){arguments[4][34][0].apply(n,arguments)},{dup:34}],70:[function(e,t,n){arguments[4][52][0].apply(n,arguments)},{dup:52}],71:[function(e,t){"use strict";function n(e,t,n,i){if(!o(e))throw new Error("Objects.Clone: The first parameter to clone must be an object");return r(e,t,n,i)}var r=e("lodash.clone"),o=e("../../type/isPlainObject/");t.exports=n},{"../../type/isPlainObject/":92,"lodash.clone":23}],72:[function(e,t){"use strict";function n(e){return!e||i(e)||o(e)?!1:r(e)}var r=e("lodash.keys"),o=e("../../type/isArray"),i=e("../../type/isString");t.exports=n},{"../../type/isArray":78,"../../type/isString":93,"lodash.keys":33}],73:[function(e,t){"use strict";function n(e){var t=[{}];return r(e.mergeables,function(e){t.push(e)}),e.merger&&t.push(e.merger),o.apply(null,t)}var r=e("lodash.map"),o=e("lodash.merge");t.exports=n},{"lodash.map":37,"lodash.merge":46}],74:[function(e,t){"use strict";function n(e,t){function n(e,t){return null===t?e:e?typeof e!=typeof t?t:i(t)?t:o(t)?r({},e,t,n):void 0:t}return r({},e,t,n)}var r=e("lodash.merge"),o=e("../../type/isPlainObject"),i=e("../../type/isArray");t.exports=n},{"../../type/isArray":78,"../../type/isPlainObject":92,"lodash.merge":46}],75:[function(e,t){"use strict";function n(e){function t(i){var a;return r>=c?(clearTimeout(n),void u(i,e)):Date.now()-l>d?(clearTimeout(n),void s(e)):(a=o[r],i[a]?(clearTimeout(n),r++,void t(i[a])):void(n=setTimeout(function(){t(i)},e.poll.every)))}i(e),a(e);var n,r=0,o=e.path.split("."),c=o.length,l=Date.now(),d=e.poll.limit,p=e.obj||window;t(p)}function r(e,t){return t?typeof e===t:!0}function o(e,t,n){var o=e[t]||!1;return o&&r(o,n)}function i(e){function t(e,t,n){if(!o(e,t,n))throw new Error("[ cns utilities: obj.ready ] the '"+t+"' options property must be of type '"+n+"'")}t(e,"path","string"),t(e,"poll","object"),t(e.poll,"limit","number"),t(e,"onReady","function")}function a(e){function t(e,t,n){o(e,t,n)||(e[t]=c[t])}t(e,"onFailure","function"),t(e.poll,"every","number")}function s(e){e.onFailure(new Error("[ cns utilities: obj.ready ] path was not found beforetime limit of "+e.poll.limit+" milliseconds expired."))}function u(e,t){return r(e,t.type)?void t.onReady(e):void t.onFailure(new Error("[ cns utilities: obj.ready ] path is ready but not of type '"+t.type+"'."))}var c={every:100,onFailure:function(e){console.error(e.message)}};t.exports=n},{}],76:[function(e,t){"use strict";function n(e){var t,n=e?e:document.location.search,o=n.slice(1,n.length),i=o.split("&"),a={};return r(i,function(e){t=e.split("="),a[t[0]]=t[1]}),a}var r=e("../loop");t.exports=n},{"../loop":22}],77:[function(e,t){"use strict";function n(e,t){if(!e)return void 0;if("string"!=typeof e)return e;var n="string"==typeof t?t:"-",r=new RegExp("^["+n+"]+|["+n+"]+$","g"),o=e.toLowerCase();return o=o.replace(/[^a-z0-9]+/g,n),o=o.replace(r,""),o=o.replace("["+n+"]1/gi",n)}t.exports=n},{}],78:[function(e,t){"use strict";function n(e){return!!e&&Array.isArray(e)}t.exports=n},{}],79:[function(e,t){"use strict";function n(e){return!(!e||9!==e.nodeType)}t.exports=n},{}],80:[function(e,t){"use strict";function n(e){return!(!e||1!==e.nodeType)}t.exports=n},{}],81:[function(e,t){"use strict";function n(e){return!(!e||"undefined"==typeof e.item)}t.exports=n},{}],82:[function(e,t){"use strict";function n(e){return!!(e&&e.document&&r(e.document))}var r=e("../isDOMDocumentObject");t.exports=n},{"../isDOMDocumentObject":79}],83:[function(e,t){"use strict";function n(e){return o(e)||r(e)}var r=e("../isDOMDocumentObject"),o=e("../isJQDocumentObject");t.exports=n},{"../isDOMDocumentObject":79,"../isJQDocumentObject":86}],84:[function(e,t){"use strict";function n(e){return o(e)||r(e)}var r=e("../isDOMElement"),o=e("../isJQElement");t.exports=n},{"../isDOMElement":80,"../isJQElement":87}],85:[function(e,t){"use strict";function n(e){return!!e&&"function"==typeof e}t.exports=n},{}],86:[function(e,t){"use strict";function n(e){return!!(e&&r(e)&&o(e[0]))}var r=e("../isJQObject"),o=e("../isDOMDocumentObject");t.exports=n},{"../isDOMDocumentObject":79,"../isJQObject":88}],87:[function(e,t){"use strict";function n(e){return!(!e||!r(e)||1!==e[0].nodeType)}var r=e("../isJQObject");t.exports=n},{"../isJQObject":88}],88:[function(e,t){"use strict";function n(e){return!(!e||!e.jquery)}t.exports=n},{}],89:[function(e,t){"use strict";function n(e){return!!(e&&r(e)&&o(e[0]))}var r=e("../isJQObject"),o=e("../isDOMWindowObject");t.exports=n},{"../isDOMWindowObject":82,"../isJQObject":88}],90:[function(e,t){"use strict";function n(e){return"number"==typeof e}t.exports=n},{}],91:[function(e,t){"use strict";function n(e){var t=typeof e;return!!e&&("object"===t||"function"===t)}t.exports=n},{}],92:[function(e,t){"use strict";function n(e){return!!e&&e.constructor===Object}t.exports=n},{}],93:[function(e,t){"use strict";function n(e){return"string"==typeof e}t.exports=n},{}],94:[function(e,t){"use strict";function n(e){return o(e)||r(e)}var r=e("../isDOMWindowObject"),o=e("../isJQWindowObject");t.exports=n},{"../isDOMWindowObject":82,"../isJQWindowObject":89}],95:[function(e,t){"use strict";function n(e,t){return c=t,u=e,Promise.resolve()}function r(e){return new Promise(function(t,n){e.controller.setup(u,e.config,e.version).then(function(){p[e.name]=e.controller.api,t(e.controller)})["catch"](n)})}function o(e){f[e]&&(l(f[e],function(t){d(t)&&t(p[e])}),f[e]=!1)}function i(e){f=e}function a(e,t){if(d(t)){if(p[e]&&(!f||!f[e]))return void t(p[e]);f[e]||(f[e]=[]),f[e].push(t)}}function s(){return c}var u,c,l=e("@condenast/atp-utl/loop"),d=e("@condenast/atp-utl/type/isFunction"),p={},f={};t.exports={setup:n,extend:r,queue:{set:i,play:o},async:a,about:s}},{"@condenast/atp-utl/loop":106,"@condenast/atp-utl/type/isFunction":138}],96:[function(e,t){"use strict";function n(e){var t=[r()],n=o();a(n,function(t,n){e.addTargeting(n,t)}),e.addTargeting("uuid",t),e.process.done()}function r(){var e=s("aam_uuid");return e?e.length<=c?e:i(e):null}function o(){var e=s("aamconde"),t=[],n={};return e?(t=e.split(";"),a(t,function(e){var t=e.split("=");n[t[0]]?n[t[0]].push(t[1]):n[t[0]]=[t[1]]}),n):{conde:[null]}}function i(e){return("trunc|"+e).substr(0,c)}var a=e("@condenast/atp-utl/loop"),s=e("@condenast/atp-utl/cookies/get"),u=e("@condenast/atp-utl/functions").noop,c=294;t.exports={code:"aam",setup:u,hooks:{onPageCreate:n}}},{"@condenast/atp-utl/cookies/get":103,"@condenast/atp-utl/functions":105,"@condenast/atp-utl/loop":106}],97:[function(e,t){"use strict";function n(e,t,n){e.addTargeting("amznslots",t),n()}function r(e){a({path:"amznads.getTokens",poll:{limit:1e3},onReady:function(t){amznads.tasks.push(function(){n(e,t(),e.process.done)})},onFailure:function(t){e.process.failed(t.message)}})}function o(e){var t=document.createElement("script");t.async=!0,t.src=e,document.head.appendChild(t)}function i(e){var t=e;"undefined"==typeof window.amznads&&(window.amznads={tasks:[],asyncParams:{id:t.amazon_id}}),o(t.endpoint)}var a=e("@condenast/atp-utl/objects/ready");t.exports={code:"amzn",setup:i,hooks:{onSlotRequest:r}}},{"@condenast/atp-utl/objects/ready":136}],98:[function(e,t){function n(){var e=document.createElement("script");e.async=!0,e.src="//js-sec.indexww.com/ht/htw-condenast.js",document.head.appendChild(e)}function r(e){var t;"undefined"==typeof headertag?t=setInterval(function(){"undefined"!=typeof headertag&&(headertag.condeFetchDemand(e),clearInterval(t))},100):headertag.condeFetchDemand(e)}t.exports={code:"INDX",setup:n,hooks:{onSlotRequest:r}}},{}],99:[function(e,t){"use strict";function n(e){r(e)}function r(e){var t=document.querySelectorAll('script[src="'+e.endpoint+'"]');if(e.endpoint&&!t.length){window.rubicontag=window.rubicontag||{},window.rubicontag.cmd=window.rubicontag.cmd||[];var n=document.createElement("script");n.async=!0,n.src=e.endpoint,document.head.appendChild(n)}}function o(e){var t=e.getMeta();if("_out_of_page"===t.type||!t.sizes)return e.process.done();var n={id:t.id,type:t.type,path:"/"+t.network+"/"+t.baseUA,sizes:i(t.sizes),addTargeting:e.addTargeting,onComplete:function(){return e.process.done()}};a(n)}function i(e){var t=e.map(function(e){var t=e.split("x");return t.map(function(e){return parseInt(e,10)})});return t}function a(e){window.rubicontag.cmd.push(function(){window.rubicontag.defineSlot(e.path,e.sizes,e.id).setPosition("atf"),window.rubicontag.run(u.bind(null,e))})}function s(){var e=window.rubicontag.getAllSlots(),t=[];return c(e,function(e){var n=e.getAdServerTargeting();n.length>0&&t.push(n)}),t}function u(e){var t=s();t.length&&c(t,function(t){e.addTargeting(t[0].key,t[0].values.toString()),e.addTargeting(t[1].key,t[1].values[0].toString())}),e.onComplete()}var c=e("@condenast/atp-utl/loop");t.exports={code:"rub",setup:n,hooks:{onSlotRequest:o}}},{"@condenast/atp-utl/loop":106}],100:[function(e,t){"use strict";function n(){r()}function r(){var e=document.createElement("script");e.async=!0,e.src="//cdn.yldbt.com/js/yieldbot.intent.js",document.head.appendChild(e)}function o(e){l({path:"yieldbot.getPageCriteria",poll:{limit:1500},onReady:function(){window.ybotq=window.ybotq||[],window.ybotq.push(i),window.ybotq.push(c.bind(null,e))},onFailure:function(t){e.process.failed("[ cns plugin : ads : yieldbot.embed ] Yieldbot did not load: "+t.message)}})}function i(){a()>=600?(s(d.ybDsk),yieldbot.defineSlot("leaderboard"),yieldbot.defineSlot("medrec",{sizes:[[300,250],[300,600]]})):(s(d.ybMob),yieldbot.defineSlot("MLB"),yieldbot.defineSlot("mob_MR")),yieldbot.enableAsync(),yieldbot.go()}function a(){var e=document,t=e.documentElement,n=Math.max(t.scrollWidth,t.offsetWidth,t.clientWidth);return n}function s(e){var t=u();if(t in e){var n=e[t];yieldbot.pub(n)}else yieldbot.pub(p)}function u(){var e=document.location.host.split("."),t="";return e.length>1&&(t="www"===e[0]?e[1]:e[0]),t}function c(e){var t=yieldbot.getPageCriteria()||"n";e.addTargeting("data",t),e.process.done()}var l=e("@condenast/atp-utl/objects/ready"),d={ybDsk:{allure:"5f21",architecturaldigest:"45ce",arstechnica:"1473",bonappetit:"80a9",brides:"99b8",cntraveler:"68b4",details:"84f3",epicurious:"7caa",glamour:"6ba1",golfdigest:"16ce",gq:"2c20",newyorker:"20a1",self:"25ef",teenvogue:"e23d",vanityfair:"3a67",wired:"bc58",wmagazine:"fd2c"},ybMob:{allure:"3a8f",architecturaldigest:"b6b7",arstechnica:"ad37",bonappetit:"4528",brides:"b07f",cntraveler:"00f8",details:"78cb",epicurious:"3804",glamour:"0e83",golfdigest:"9071",gq:"26b1",newyorker:"71f3",self:"ff1c",teenvogue:"01c0",vanityfair:"2f33",wired:"de70",wmagazine:"a439"}},p="822c";t.exports={code:"ylbt",setup:n,hooks:{onSlotRequest:o}}},{"@condenast/atp-utl/objects/ready":136}],101:[function(e,t){"use strict";function n(e){return new Promise(function(t){c=e,d||i(),p({path:"Sparrow",poll:{limit:1e3},onReady:function(){r(),t(l)},onFailure:function(e){console.warn(e.message),t()}})})}function r(){l=new Sparrow(c),o()}function o(){m.length&&(m.shift().call(),m.length&&o())}function i(){d=!0;var e=document.createElement("script");e.className="cns-metrics-sparrow",e.async=!0,e.src="//pixel.condenastdigital.com/sparrow.min.js",document.body.appendChild(e)}function a(e){var t=e.campaign&&e.name,n=u(e);return t?(l?s(n):m.push(s.bind(null,n)),!0):!1}function s(e){l.track(e.campaign,e.name,e.meta)}function u(e){return h(e,function(t,n){g(t)?u(t):e[n]=f(t,"_")}),e}var c,l,d,p=e("@condenast/atp-utl/objects/ready"),f=e("@condenast/atp-utl/strings/slugify"),g=e("@condenast/atp-utl/type/isObject"),h=e("@condenast/atp-utl/loop"),m=[];t.exports={code:"sprw",setup:n,emit:a}},{"@condenast/atp-utl/loop":106,"@condenast/atp-utl/objects/ready":136,"@condenast/atp-utl/strings/slugify":137,"@condenast/atp-utl/type/isObject":139}],102:[function(e,t){"use strict";function n(e,t){return Promise.resolve(t)}function r(e){function t(e,t,n){if("plugins"===n&&s(e)){var r={};return u(t,function(t,n){var o=e[n];r[n]=a({mergeables:[o,t]})}),r}}return a({mergeables:[e.global,e.property],merger:t})}function o(e){return e.controller.setup(e.config,e.version),c[e.name]=e,e}function i(e){u(c,function(t){t.controller.emit(e)})}var a=e("@condenast/atp-utl/objects/merge"),s=e("@condenast/atp-utl/type/isObject"),u=e("@condenast/atp-utl/loop"),c={};t.exports={setup:n,merge:r,extend:o,api:{emit:i}}},{"@condenast/atp-utl/loop":106,"@condenast/atp-utl/objects/merge":135,"@condenast/atp-utl/type/isObject":139}],103:[function(e,t){"use strict";function n(e){for(var t=document.cookie.split("; "),n=[],r=0;r<t.length;r++)if(n=t[r].split("="),n[0]===e)return decodeURIComponent(n[1]);return!1}t.exports=n},{}],104:[function(e,t,n){arguments[4][20][0].apply(n,arguments)},{dup:20}],105:[function(e,t,n){arguments[4][21][0].apply(n,arguments)},{
"../type/isFunction":138,dup:21}],106:[function(e,t,n){arguments[4][22][0].apply(n,arguments)},{dup:22,"lodash.map":111}],107:[function(e,t,n){arguments[4][33][0].apply(n,arguments)},{dup:33,"lodash._getnative":108,"lodash.isarguments":109,"lodash.isarray":110}],108:[function(e,t,n){arguments[4][34][0].apply(n,arguments)},{dup:34}],109:[function(e,t,n){arguments[4][35][0].apply(n,arguments)},{dup:35}],110:[function(e,t,n){arguments[4][30][0].apply(n,arguments)},{dup:30}],111:[function(e,t,n){arguments[4][37][0].apply(n,arguments)},{dup:37,"lodash._arraymap":112,"lodash._basecallback":113,"lodash._baseeach":118,"lodash.isarray":119}],112:[function(e,t,n){arguments[4][38][0].apply(n,arguments)},{dup:38}],113:[function(e,t,n){arguments[4][39][0].apply(n,arguments)},{dup:39,"lodash._baseisequal":114,"lodash._bindcallback":116,"lodash.isarray":119,"lodash.pairs":117}],114:[function(e,t,n){arguments[4][40][0].apply(n,arguments)},{dup:40,"lodash.isarray":119,"lodash.istypedarray":115,"lodash.keys":107}],115:[function(e,t,n){arguments[4][41][0].apply(n,arguments)},{dup:41}],116:[function(e,t,n){arguments[4][31][0].apply(n,arguments)},{dup:31}],117:[function(e,t,n){arguments[4][43][0].apply(n,arguments)},{dup:43,"lodash.keys":107}],118:[function(e,t,n){arguments[4][44][0].apply(n,arguments)},{dup:44,"lodash.keys":107}],119:[function(e,t,n){arguments[4][30][0].apply(n,arguments)},{dup:30}],120:[function(e,t,n){arguments[4][46][0].apply(n,arguments)},{dup:46,"lodash._arraycopy":121,"lodash._arrayeach":122,"lodash._createassigner":123,"lodash.isarguments":127,"lodash.isarray":128,"lodash.isplainobject":129,"lodash.istypedarray":131,"lodash.keys":107,"lodash.toplainobject":133}],121:[function(e,t,n){arguments[4][25][0].apply(n,arguments)},{dup:25}],122:[function(e,t,n){arguments[4][26][0].apply(n,arguments)},{dup:26}],123:[function(e,t,n){arguments[4][49][0].apply(n,arguments)},{dup:49,"lodash._bindcallback":124,"lodash._isiterateecall":125,"lodash.restparam":126}],124:[function(e,t,n){arguments[4][31][0].apply(n,arguments)},{dup:31}],125:[function(e,t,n){arguments[4][32][0].apply(n,arguments)},{dup:32}],126:[function(e,t,n){arguments[4][52][0].apply(n,arguments)},{dup:52}],127:[function(e,t,n){arguments[4][35][0].apply(n,arguments)},{dup:35}],128:[function(e,t,n){arguments[4][30][0].apply(n,arguments)},{dup:30}],129:[function(e,t,n){arguments[4][55][0].apply(n,arguments)},{dup:55,"lodash._basefor":130,"lodash.isarguments":127,"lodash.keysin":132}],130:[function(e,t,n){arguments[4][29][0].apply(n,arguments)},{dup:29}],131:[function(e,t,n){arguments[4][41][0].apply(n,arguments)},{dup:41}],132:[function(e,t,n){arguments[4][58][0].apply(n,arguments)},{dup:58,"lodash.isarguments":127,"lodash.isarray":128}],133:[function(e,t,n){arguments[4][59][0].apply(n,arguments)},{dup:59,"lodash._basecopy":134,"lodash.keysin":132}],134:[function(e,t,n){arguments[4][28][0].apply(n,arguments)},{dup:28}],135:[function(e,t,n){arguments[4][73][0].apply(n,arguments)},{dup:73,"lodash.map":111,"lodash.merge":120}],136:[function(e,t,n){arguments[4][75][0].apply(n,arguments)},{dup:75}],137:[function(e,t,n){arguments[4][77][0].apply(n,arguments)},{dup:77}],138:[function(e,t,n){arguments[4][85][0].apply(n,arguments)},{dup:85}],139:[function(e,t,n){arguments[4][91][0].apply(n,arguments)},{dup:91}],140:[function(e,t){function n(e){if(u===setTimeout)return setTimeout(e,0);try{return u(e,0)}catch(t){try{return u.call(null,e,0)}catch(t){return u.call(this,e,0)}}}function r(e){if(c===clearTimeout)return clearTimeout(e);try{return c(e)}catch(t){try{return c.call(null,e)}catch(t){return c.call(this,e)}}}function o(){f&&d&&(f=!1,d.length?p=d.concat(p):g=-1,p.length&&i())}function i(){if(!f){var e=n(o);f=!0;for(var t=p.length;t;){for(d=p,p=[];++g<t;)d&&d[g].run();g=-1,t=p.length}d=null,f=!1,r(e)}}function a(e,t){this.fun=e,this.array=t}function s(){}var u,c,l=t.exports={};!function(){try{u=setTimeout}catch(e){u=function(){throw new Error("setTimeout is not defined")}}try{c=clearTimeout}catch(e){c=function(){throw new Error("clearTimeout is not defined")}}}();var d,p=[],f=!1,g=-1;l.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];p.push(new a(e,t)),1!==p.length||f||n(i)},a.prototype.run=function(){this.fun.apply(null,this.array)},l.title="browser",l.browser=!0,l.env={},l.argv=[],l.version="",l.versions={},l.on=s,l.addListener=s,l.once=s,l.off=s,l.removeListener=s,l.removeAllListeners=s,l.emit=s,l.binding=function(){throw new Error("process.binding is not supported")},l.cwd=function(){return"/"},l.chdir=function(){throw new Error("process.chdir is not supported")},l.umask=function(){return 0}},{}],141:[function(e,t){(function(n,r){(function(){"use strict";function o(e){return"function"==typeof e||"object"==typeof e&&null!==e}function i(e){return"function"==typeof e}function a(e){return"object"==typeof e&&null!==e}function s(e){B=e}function u(e){J=e}function c(){var e=n.nextTick,t=n.versions.node.match(/^(?:(\d+)\.)?(?:(\d+)\.)?(\*|\d+)$/);return Array.isArray(t)&&"0"===t[1]&&"10"===t[2]&&(e=setImmediate),function(){e(g)}}function l(){return function(){$(g)}}function d(){var e=0,t=new Z(g),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}function p(){var e=new MessageChannel;return e.port1.onmessage=g,function(){e.port2.postMessage(0)}}function f(){return function(){setTimeout(g,1)}}function g(){for(var e=0;Q>e;e+=2){var t=te[e],n=te[e+1];t(n),te[e]=void 0,te[e+1]=void 0}Q=0}function h(){try{var t=e,n=t("vertx");return $=n.runOnLoop||n.runOnContext,l()}catch(r){return f()}}function m(){}function y(){return new TypeError("You cannot resolve a promise with itself")}function v(){return new TypeError("A promises callback cannot return that same promise.")}function b(e){try{return e.then}catch(t){return ie.error=t,ie}}function _(e,t,n,r){try{e.call(t,n,r)}catch(o){return o}}function w(e,t,n){J(function(e){var r=!1,o=_(n,t,function(n){r||(r=!0,t!==n?S(e,n):T(e,n))},function(t){r||(r=!0,E(e,t))},"Settle: "+(e._label||" unknown promise"));!r&&o&&(r=!0,E(e,o))},e)}function x(e,t){t._state===re?T(e,t._result):t._state===oe?E(e,t._result):A(t,void 0,function(t){S(e,t)},function(t){E(e,t)})}function j(e,t){if(t.constructor===e.constructor)x(e,t);else{var n=b(t);n===ie?E(e,ie.error):void 0===n?T(e,t):i(n)?w(e,t,n):T(e,t)}}function S(e,t){e===t?E(e,y()):o(t)?j(e,t):T(e,t)}function k(e){e._onerror&&e._onerror(e._result),O(e)}function T(e,t){e._state===ne&&(e._result=t,e._state=re,0!==e._subscribers.length&&J(O,e))}function E(e,t){e._state===ne&&(e._state=oe,e._result=t,J(k,e))}function A(e,t,n,r){var o=e._subscribers,i=o.length;e._onerror=null,o[i]=t,o[i+re]=n,o[i+oe]=r,0===i&&e._state&&J(O,e)}function O(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var r,o,i=e._result,a=0;a<t.length;a+=3)r=t[a],o=t[a+n],r?C(n,r,o,i):o(i);e._subscribers.length=0}}function P(){this.error=null}function R(e,t){try{return e(t)}catch(n){return ae.error=n,ae}}function C(e,t,n,r){var o,a,s,u,c=i(n);if(c){if(o=R(n,r),o===ae?(u=!0,a=o.error,o=null):s=!0,t===o)return void E(t,v())}else o=r,s=!0;t._state!==ne||(c&&s?S(t,o):u?E(t,a):e===re?T(t,o):e===oe&&E(t,o))}function I(e,t){try{t(function(t){S(e,t)},function(t){E(e,t)})}catch(n){E(e,n)}}function q(e,t){var n=this;n._instanceConstructor=e,n.promise=new e(m),n._validateInput(t)?(n._input=t,n.length=t.length,n._remaining=t.length,n._init(),0===n.length?T(n.promise,n._result):(n.length=n.length||0,n._enumerate(),0===n._remaining&&T(n.promise,n._result))):E(n.promise,n._validationError())}function D(e){return new se(this,e).promise}function M(e){function t(e){S(o,e)}function n(e){E(o,e)}var r=this,o=new r(m);if(!G(e))return E(o,new TypeError("You must pass an array to race.")),o;for(var i=e.length,a=0;o._state===ne&&i>a;a++)A(r.resolve(e[a]),void 0,t,n);return o}function z(e){var t=this;if(e&&"object"==typeof e&&e.constructor===t)return e;var n=new t(m);return S(n,e),n}function F(e){var t=this,n=new t(m);return E(n,e),n}function L(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function V(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function N(e){this._id=pe++,this._state=void 0,this._result=void 0,this._subscribers=[],m!==e&&(i(e)||L(),this instanceof N||V(),I(this,e))}function U(){var e;if("undefined"!=typeof r)e=r;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var n=e.Promise;(!n||"[object Promise]"!==Object.prototype.toString.call(n.resolve())||n.cast)&&(e.Promise=fe)}var H;H=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};var $,B,W,G=H,Q=0,J=({}.toString,function(e,t){te[Q]=e,te[Q+1]=t,Q+=2,2===Q&&(B?B(g):W())}),K="undefined"!=typeof window?window:void 0,Y=K||{},Z=Y.MutationObserver||Y.WebKitMutationObserver,X="undefined"!=typeof n&&"[object process]"==={}.toString.call(n),ee="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,te=new Array(1e3);W=X?c():Z?d():ee?p():void 0===K&&"function"==typeof e?h():f();var ne=void 0,re=1,oe=2,ie=new P,ae=new P;q.prototype._validateInput=function(e){return G(e)},q.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")},q.prototype._init=function(){this._result=new Array(this.length)};var se=q;q.prototype._enumerate=function(){for(var e=this,t=e.length,n=e.promise,r=e._input,o=0;n._state===ne&&t>o;o++)e._eachEntry(r[o],o)},q.prototype._eachEntry=function(e,t){var n=this,r=n._instanceConstructor;a(e)?e.constructor===r&&e._state!==ne?(e._onerror=null,n._settledAt(e._state,t,e._result)):n._willSettleAt(r.resolve(e),t):(n._remaining--,n._result[t]=e)},q.prototype._settledAt=function(e,t,n){var r=this,o=r.promise;o._state===ne&&(r._remaining--,e===oe?E(o,n):r._result[t]=n),0===r._remaining&&T(o,r._result)},q.prototype._willSettleAt=function(e,t){var n=this;A(e,void 0,function(e){n._settledAt(re,t,e)},function(e){n._settledAt(oe,t,e)})};var ue=D,ce=M,le=z,de=F,pe=0,fe=N;N.all=ue,N.race=ce,N.resolve=le,N.reject=de,N._setScheduler=s,N._setAsap=u,N._asap=J,N.prototype={constructor:N,then:function(e,t){var n=this,r=n._state;if(r===re&&!e||r===oe&&!t)return this;var o=new this.constructor(m),i=n._result;if(r){var a=arguments[r-1];J(function(){C(r,o,a,i)})}else A(n,o,e,t);return o},"catch":function(e){return this.then(null,e)}};var ge=U,he={Promise:fe,polyfill:ge};"function"==typeof define&&define.amd?define(function(){return he}):"undefined"!=typeof t&&t.exports?t.exports=he:"undefined"!=typeof this&&(this.ES6Promise=he),ge()}).call(this)}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:140}],142:[function(e){!function(t){function n(){return window.performance&&window.performance.now()||(new Date).getTime()}e("es6-promise").polyfill();var r=e("@condenast/atp-utl/feature"),o=t.cns.queue,i=t.cns=e("../../assets/"),a={campaign:"cns",name:"loaded",meta:{cns:"0.1.19",feature_storage:r.isStorageEnabled(),feature_get_entries:r.isGetEntriesEnabled(),feature_performance_now:null!==r.performance.now()}},s=a.meta;i.performance=i.performance||{},i.performance.service=i.performance.service||{},i.queue.set(o),i.setup({identifiers:{human:"arstechnica",human_slug:"arstechnica",human_var:"arstechnica"}},{services:{ads:{version:"1.0.25",plugins:{amazon_match_buy:{version:"0.1.5"},yieldbot:{version:"0.1.6"},adobe_audience_manager:{version:"0.1.3"},rubicon:{version:"0.1.4"},index_exchange:{version:"1.0.1"}}},metrics:{version:"0.1.2",plugins:{sparrow:{version:"0.1.8"}}}},built:"Thu Aug 25 2016 16:11:39 GMT-0400 (EDT)"}).then(function(){i.extend({name:"ads",controller:e("@condenast/atp-cns-service-ads"),version:"1.0.25",config:{network:3379,timers:{plugin_requests_max:1e3,ad_request_queuer:100,refresh_delay:3e4},slot:{sets:{_default:["post_nav","siderail","sponsor_siderail","inline_index","_out_of_page","footer"],gallery:["gallery_between_slides","gallery_cap","siderail_gallery","footer"],article:["post_nav","siderail","article_in_text","_out_of_page","footer"]},types:{_default:{request_in_vp_only:!0,style:{background:"#000000"},render:{slot:{top:"body"}}},_out_of_page:{_default:{refresh:!1}},inline_index:{_default:{sizes:{desktop:["728x91","970x251","970x401","930x401","932x373","970x126","1440x521","9x2"],tablet:["728x91","970x251","970x401","930x401","970x126","1440x521","9x2"],mobile:["300x51","320x51","320x251","300x251","9x2","9x3","320x151"]},render:{slot:{top:".ad.ad_fullwidth"}}}},post_nav:{_default:{sizes:{desktop:["728x90","970x66","970x250","930x400","932x372","970x90","970x418","9x1","9x3"],tablet:["728x90","970x66","970x250","930x400","970x90","970x418","9x1","9x3"],mobile:["300x50","320x50","300x150","320x150","9x1","9x3"]},refresh:!1,data:{"jivox-ad-id":"constellation-crown"},render:{desktop:{slot:{top:".ad.ad_crown"}},tablet:{slot:{top:".ad.ad_crown"}},mobile:{slot:{top:"#ad-top"}}}}},article_in_text:{_default:{sizes:{desktop:[],tablet:[],mobile:["300x251","300x51","320x51","300x151","320x151"]},render:{slot:{top:"#inline300x250_frame"}}}},sponsor_siderail:{_default:{refresh:!1,sizes:{desktop:["195x130"]},render:{desktop:{slot:{bottom:".ad.ad_xrail"}}}}},siderail:{_default:{sizes:{desktop:["300x250","300x600","300x1050"]},render:{desktop:{slot:{top:".ad.ad_xrail"}}}}},siderail_btf:{_default:{sizes:{desktop:["300x251","300x601","300x1051"]},render:{desktop:{slot:{top:".ad.ad_xrail"}}}}},footer:{_default:{sizes:{desktop:["728x91","970x251","9x2"],tablet:["728x91","9x2"],mobile:["300x58","320x58","300x158","320x158","300x258","9x2"]},render:{mobile:{slot:{top:"#page-footer"}}}}}},__auid_one:"ars.dart"}}}).then(function(t){var n="cns_ads";s[n]="1.0.25";var r=[];return r.push(t.extend({name:"amazon_match_buy",controller:e("@condenast/atp-cns-service-ads-plugin-amazon-match-buy"),version:"0.1.5",config:{amazon_id:"3035",endpoint:"//c.amazon-adsystem.com/aax2/amzn_ads.js"}})),s[n+"_amazon_match_buy"]="0.1.5",r.push(t.extend({name:"yieldbot",controller:e("@condenast/atp-cns-service-ads-plugin-yieldbot"),version:"0.1.6",config:{endpoint:"//cdn.yldbt.com/js/yieldbot.intent.js"}})),s[n+"_yieldbot"]="0.1.6",r.push(t.extend({name:"adobe_audience_manager",controller:e("@condenast/atp-cns-service-ads-plugin-adobe-audience-manager"),version:"0.1.3",config:{}})),s[n+"_adobe_audience_manager"]="0.1.3",r.push(t.extend({name:"rubicon",controller:e("@condenast/atp-cns-service-ads-plugin-rubicon"),version:"0.1.4",config:{endpoint:"//ads.rubiconproject.com/header/11850.js"}})),s[n+"_rubicon"]="0.1.4",r.push(t.extend({name:"index_exchange",controller:e("@condenast/atp-cns-service-ads-plugin-index-exchange"),version:"1.0.1",config:{}})),s[n+"_index_exchange"]="1.0.1",Promise.all(r)}).then(function(){i.queue.play("ads")}),i.extend({name:"metrics",controller:e("@condenast/atp-cns-service-metrics"),version:"0.1.2",config:{}}).then(function(t){var n="cns_metrics";s[n]="0.1.2";var r=[];return r.push(t.extend({name:"sparrow",controller:e("@condenast/atp-cns-service-metrics-plugin-sparrow"),version:"0.1.8",config:{preinit:["infinityid","4d"],meta:{cPd:"function () { if (window._4d && window._4d.context && window._4d.context.pubdate) { return window._4d.context.pubdate; } else { return undefined; }}",cKh:'function (d) { var fds = window._4d.context; var keywords = ""; if (fds.keywords && fds.keywords.list) { var temp = fds.keywords.list.filter(function (d) { return d.score > .6 ? true : false; }); temp = temp.map(function (d) { return d.keyword.toLowerCase(); }); keywords = temp.join(",");} return keywords;}'},events:[{type:["click"],options:[{_t:"share"}],selector:".vertical-social-share a,.horizontal-social-share a,.social-share a"},{type:["pageview"],options:[],selector:"window"},{type:["scroll"],options:[],selector:"window"},{type:["timespent"],options:[],selector:"window"}],origin:"ars-technica",title:"Ars Technica",environment:"prod",version:"1.2"}})),s[n+"_sparrow"]="0.1.8",Promise.all(r)}).then(function(){i.queue.play("metrics")}).then(function(){i.async("metrics",function(e){e.emit(a)})}).then(function(){i.performance.service.ready=n()})})}(window)},{"../../assets/":95,"@condenast/atp-cns-service-ads":4,"@condenast/atp-cns-service-ads-plugin-adobe-audience-manager":96,"@condenast/atp-cns-service-ads-plugin-amazon-match-buy":97,"@condenast/atp-cns-service-ads-plugin-index-exchange":98,"@condenast/atp-cns-service-ads-plugin-rubicon":99,"@condenast/atp-cns-service-ads-plugin-yieldbot":100,"@condenast/atp-cns-service-metrics":102,"@condenast/atp-cns-service-metrics-plugin-sparrow":101,"@condenast/atp-utl/feature":104,"es6-promise":141}]},{},[142]);